{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///../node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///../node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///external \"braft-utils\"","webpack:///../node_modules/@babel/runtime/helpers/inherits.js","webpack:///../node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///../node_modules/@babel/runtime/helpers/createClass.js","webpack:///../node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///../node_modules/@babel/runtime/helpers/objectSpread.js","webpack:///external \"draft-js\"","webpack:///../node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///../node_modules/@babel/runtime/helpers/extends.js","webpack:///external \"braft-convert\"","webpack:///external \"react-dom\"","webpack:///../node_modules/@babel/runtime/helpers/typeof.js","webpack:///../node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///external \"immutable\"","webpack:///external \"braft-finder\"","webpack:///./languages/en.js","webpack:///./languages/zh.js","webpack:///./languages/zh-hant.js","webpack:///./languages/index.js","webpack:///./configs/keybindings.js","webpack:///./configs/handlers.js","webpack:///./configs/props.js","webpack:///./components/common/Switch/index.jsx","webpack:///./configs/controls.js","webpack:///./renderers/atomics/Image/index.jsx","webpack:///./components/common/StaticContainer/index.jsx","webpack:///./renderers/atomics/Video/index.jsx","webpack:///./renderers/atomics/Audio/index.jsx","webpack:///./renderers/atomics/Embed/index.jsx","webpack:///./renderers/atomics/HorizontalLine/index.jsx","webpack:///./renderers/styles/blockStyleFn.js","webpack:///./helpers/extension.js","webpack:///./renderers/styles/inlineStyleMap.js","webpack:///./renderers/styles/inlineStyleFn.js","webpack:///./renderers/decorators/Link/index.jsx","webpack:///./renderers/decorators/index.js","webpack:///./renderers/index.js","webpack:///./helpers/responsive.js","webpack:///./components/common/DropDown/index.jsx","webpack:///./components/business/LinkEditor/index.jsx","webpack:///./configs/maps.js","webpack:///./components/business/Headings/index.jsx","webpack:///./components/common/ColorPicker/index.jsx","webpack:///./components/business/TextColor/index.jsx","webpack:///./components/business/FontSize/index.jsx","webpack:///./components/business/LineHeight/index.jsx","webpack:///./components/business/FontFamily/index.jsx","webpack:///./components/business/TextAlign/index.jsx","webpack:///./components/business/EmojiPicker/index.jsx","webpack:///./components/business/LetterSpacing/index.jsx","webpack:///./components/business/TextIndent/index.jsx","webpack:///./components/common/Modal/index.jsx","webpack:///./components/business/ControlBar/index.jsx","webpack:///./editor/index.jsx","webpack:///./index.jsx","webpack:///../node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///../node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///../node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///../node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./components/common/Modal/style.scss","webpack:///./components/business/LetterSpacing/style.scss","webpack:///./components/business/EmojiPicker/style.scss","webpack:///./components/business/FontFamily/style.scss","webpack:///./components/business/LineHeight/style.scss","webpack:///./components/business/FontSize/style.scss","webpack:///./components/common/ColorPicker/style.scss","webpack:///./components/business/TextColor/style.scss","webpack:///./components/business/Headings/style.scss","webpack:///./components/common/DropDown/style.scss","webpack:///./components/business/LinkEditor/style.scss","webpack:///./components/business/ControlBar/style.scss","webpack:///./renderers/atomics/HorizontalLine/style.scss","webpack:///./renderers/atomics/Embed/style.scss","webpack:///./renderers/atomics/Audio/style.scss","webpack:///./renderers/atomics/Video/style.scss","webpack:///./components/common/Switch/style.scss","webpack:///./renderers/atomics/Image/style.scss","webpack:///./assets/scss/_base.scss","webpack:///../node_modules/draft-js/dist/Draft.css"],"names":["base","remove","cancel","confirm","inert","width","height","controls","clear","undo","redo","fontSize","color","textColor","tempColors","backgroundColor","bold","lineHeight","letterSpacing","textIndent","increaseIndent","decreaseIndent","italic","underline","strikeThrough","fontFamily","textAlign","alignLeft","alignCenter","alignRight","alignJustify","floatLeft","floatRight","superScript","subScript","removeStyles","headings","header","normal","orderedList","unorderedList","blockQuote","code","link","unlink","hr","media","mediaLibirary","emoji","linkEditor","inputPlaceHolder","inputWithEnterPlaceHolder","openInNewWindow","removeLink","audioPlayer","title","videoPlayer","embedTitle","image","video","audio","embed","border","zhHant","customKeyBindingFn","event","keyCode","hasCommandModifier","isCtrlKeyCommand","keyCommandHandlers","command","editorState","editor","props","handleKeyCommand","onSave","excludeControls","allowIndent","indexOf","find","item","key","cursorStart","getSelection","getStartOffset","cursorEnd","getEndOffset","cursorIsAtFirst","onDelete","setValue","decreaseSelectionIndent","blockType","getSelectionBlockType","insertText","repeat","codeTabIndents","increaseSelectionIndent","nextEditorState","returnHandlers","handleReturn","currentBlock","getSelectionBlock","currentBlockType","getType","getLength","toggleSelectionBlockType","which","getModifierState","handleNewLine","beforeInputHandlers","chars","handleBeforeInput","dropHandlers","selectionState","dataTransfer","window","__BRAFT_DRAGING__IMAGE__","removeBlock","insertMedias","mediaData","block","setDraftProps","readOnly","getText","handleFiles","files","constructor","defaultProps","pasteImage","imagePasteLimit","slice","forEach","file","type","braftFinder","uploadImage","isLiving","state","droppedFilesHandlers","handleDroppedFiles","pastedFilesHandlers","handlePastedFiles","pastedTextHandlers","text","html","handlePastedText","stripPastedStyles","detectColorsFromHTMLString","setState","filter","colors","index","array","insertHTML","language","extendControls","extendAtomics","componentBelowControlBar","uploadFn","validateFn","onBeforeDeselect","onDeselect","onBeforeSelect","onSelect","onBeforeRemove","onRemove","onCancel","onFileSelect","onBeforeInsert","onInsert","onChange","accepts","externals","imageControls","textAligns","textBackgroundColor","letterSpacings","lineHeights","fontSizes","fontFamilies","name","family","converts","unitExportFn","unit","emojis","className","style","controlBarClassName","controlBarStyle","contentClassName","contentStyle","draftProps","hooks","onFocus","onBlur","onTab","active","onClick","lang","imageControlItems","toolbarVisible","toolbarOffset","linkEditorVisible","sizeEditorVisible","tempLink","tempWidth","tempHeight","split","method","param","e","confirmImageLink","currentTarget","value","setMediaData","entityKey","setImmediate","forceRender","confirmImageSize","isNaN","newImageSize","float","setMediaPosition","alignment","preventDefault","calcToolbarOffset","requestFocus","blockData","getData","get","src","url","link_target","imageStyles","clearFix","renderedControlItems","map","executeCommand","render","showToolbar","hideToolbar","handleDragStart","handleDragEnd","instance","mediaEmbederInstance","marginLeft","toolbarElement","handleLinkInputKeyDown","setImageLink","setImageLinkTarget","handleSizeInputKeyDown","setImageWidth","setImageHeight","imageElement","containerNode","viewRect","getBoundingClientRect","toolbarRect","imageRect","right","left","Component","children","meta","poster","removeVideo","removeAudio","__html","removeEmbed","removeHorizontalLine","customBlockStyleFn","blockAlignment","blockIndent","blockFloat","result","extensionControls","extensionDecorators","extendInlineStyleMap","extendInlineStyleFns","styleImporters","styleExporters","entities","extendStyleImportFn","styleImportFn","nodeName","node","Object","keys","add","extendStyleExportFn","styleExportFn","undefined","extendEntityImportFn","entityImportFn","createEntity","source","matchedEntity","importer","mutability","data","extendEntityExportFn","entityExportFn","entity","originalText","entityType","toUpperCase","exporter","useExtension","extension","Array","inlineStyleName","control","push","styleFn","entityName","component","createExtensibleEditor","BraftEditor","use","customStyleMap","position","top","bottom","getStyleValue","options","styles","output","customStyleFn","contentState","getEntity","href","target","viewLink","document","createElement","click","builtinDecorators","Link","createStrategy","contentBlock","callback","findEntityRanges","character","strategy","getAtomicBlockComponent","superProps","getEntityAt","mediaType","mediaProps","atomics","i","length","getBlockRendererFn","customBlockRendererFn","blockRenderer","editable","customBlockRenderMap","element","wrapper","getBlockStyleFn","getCustomStyleMap","getCustomStyleFn","getDecorators","resizeEventHandlers","responsiveHelperInited","debouce","resolve","eventHandler","id","UniqueIndex","unresolve","addEventListener","clearTimeout","setTimeout","componentId","offset","maxHeight","alive","body","registerClickEvent","responsiveResolveId","fixDropDownPosition","next","disabled","hide","prevState","removeEventListener","ResponsiveHelper","caption","htmlCaption","showArrow","arrowActive","dropDownHandlerElement","dropDownContentElement","editorContentRect","querySelector","handlerRect","contentRect","autoHide","dataset","braftComponentId","keepActive","handleConfirm","dropDownComponent","toggleSelectionLink","hookReturns","getSelectionEntityData","textSelected","isSelectionCollapsed","handeKeyDown","inputLink","setTarget","handleUnlink","handleCancel","getHeadings","blocks","unstyled","blockquote","currentHeadingIndex","findIndex","current","isActive","replace","colorType","toggleSelectionColor","toggleSelectionBackgroundColor","captionStyle","currentColor","color_id","selectionHasInlineStyle","dropDownComponentId","enableBackgroundColor","display","switchColorType","toggleColor","toggleFontSize","size","toggleSelectionFontSize","currentFontSize","defaultCaption","toggleLineHeight","toggleSelectionLineHeight","currentLineHeight","toggleFontFamily","fontFamilyName","toggleSelectionFontFamily","currentIndex","currentAlignment","toggleSelectionAlignment","getSelectionBlockData","textAlignmentTitles","setAlignment","insertEmoji","toggleLetterSpacing","toggleSelectionLetterSpacing","currentLetterSpacing","currentIndent","nextProps","rootElement","classList","contains","ReactDOM","unmountComponentAtNode","parentNode","removeChild","closeOnCancel","close","closeOnConfirm","onConfirm","unrenderComponent","onClose","visible","renderComponent","activeId","clearImmediate","confirmable","showFooter","showCancel","showConfirm","showClose","cancelText","confirmText","bottomText","childComponent","handleTransitionEnd","appendChild","showModal","hostNode","extProps","modalInstance","destroy","update","commandHookMap","ReactComponent","MediaLibrary","mediaLibiraryModal","closeBraftFinder","bindBraftFinderHook","hookName","medias","modal","extendedModals","toggleSelectionInlineStyle","editorControls","commonProps","renderedControls","itemKey","toLowerCase","controlItem","subItem","applyControl","openBraftFinder","ref","onCreate","getUndoStack","getRedoStack","getControlItemClassName","tagName","buildHooks","defaultReturns","filterColors","colors2","getConvertOptions","convertOptions","setConvertOptions","draftInstance","createEditorState","getCurrentContent","editorDecorators","isFocused","focus","removeSelectionInlineStyles","insertHorizontalLine","toggleSelectionIndent","blockRenderMap","merge","defaultEditorState","isEditorState","defaultValue","createEmptyEditorState","items","uploader","validator","forceUpdate","detectColorsFromDraftState","toRAW","_","setItems","placeholder","externalMedias","controlBarProps","controlBarInstance","blockRendererFn","blockStyleFn","keyBindingFn","handleDrop","setEditorContainerNode","prototype","toHTML","noStringify","JSON","stringify","createFrom","content","console","log","entityMap","parse","error","createEmpty"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;AClFA,gD;;;;;;ACAA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wC;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA,iC;;;;;;ACfA,gD;;;;;;ACAA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,2B;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;ACPA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,4C;;;;;;ACZA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;AChBA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;ACNA;;AAEA;AACA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA,+B;;;;;;ACrBA,iD;;;;;;ACAA;;AAEA;;AAEA;;AAEA;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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"braft-utils\"), require(\"draft-js\"), require(\"braft-convert\"), require(\"react-dom\"), require(\"immutable\"), require(\"braft-finder\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"braft-utils\", \"draft-js\", \"braft-convert\", \"react-dom\", \"immutable\", \"braft-finder\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\"), require(\"braft-utils\"), require(\"draft-js\"), require(\"braft-convert\"), require(\"react-dom\"), require(\"immutable\"), require(\"braft-finder\")) : factory(root[\"react\"], root[\"braft-utils\"], root[\"draft-js\"], root[\"braft-convert\"], root[\"react-dom\"], root[\"immutable\"], root[\"braft-finder\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__10__, __WEBPACK_EXTERNAL_MODULE__13__, __WEBPACK_EXTERNAL_MODULE__14__, __WEBPACK_EXTERNAL_MODULE__17__, __WEBPACK_EXTERNAL_MODULE__18__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","module.exports = __WEBPACK_EXTERNAL_MODULE__13__;","module.exports = __WEBPACK_EXTERNAL_MODULE__14__;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","module.exports = __WEBPACK_EXTERNAL_MODULE__17__;","module.exports = __WEBPACK_EXTERNAL_MODULE__18__;","export default {\n  base: {\n    remove: 'Remove',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n    inert: 'Insert',\n    width: 'Width',\n    height: 'Height'\n  },\n  controls: {\n    clear: 'Clear',\n    undo: 'Undo',\n    redo: 'Redo',\n    fontSize: 'Font Size',\n    color: 'Color',\n    textColor: 'Text',\n    tempColors: 'Temp Colors',\n    backgroundColor: 'Background',\n    bold: 'Bold',\n    lineHeight:'Line Height',\n    letterSpacing:'Letter Spacing',\n    textIndent:'Text Indent',\n    increaseIndent: 'Increase Indent',\n    decreaseIndent: 'Decrease Indent',\n    italic: 'Italic',\n    underline: 'Underline',\n    strikeThrough: 'Strike Through',\n    fontFamily: 'Font Family',\n    textAlign: 'Text Alignment',\n    alignLeft: 'Left Alignment',\n    alignCenter: 'Center Alignment',\n    alignRight: 'Right Alignment',\n    alignJustify: 'Justify Alignment',\n    floatLeft: 'Left Float',\n    floatRight: 'Right Float',\n    superScript: 'Super Script',\n    subScript: 'Sub Script',\n    removeStyles: 'Remove Styles',\n    headings: 'Headings',\n    header: 'Header',\n    normal: 'Normal',\n    orderedList: 'Ordered List',\n    unorderedList: 'Unordered List',\n    blockQuote: 'Quote',\n    code: 'Code',\n    link: 'Link',\n    unlink: 'Unlink',\n    hr: 'Horizontal Line',\n    media: 'Media',\n    mediaLibirary: 'Media Libirary',\n    emoji: 'Emoji'\n  },\n  linkEditor: {\n    inputPlaceHolder: 'Input link URL',\n    inputWithEnterPlaceHolder: 'Input link URL and press Enter',\n    openInNewWindow: 'Open in new window',\n    removeLink: 'Remove Link'\n  },\n  audioPlayer: {\n    title: 'Play Audio'\n  },\n  videoPlayer: {\n    title: 'Play Video',\n    embedTitle: 'Embed Media'\n  },\n  media: {\n    image: 'Image',\n    video: 'Video',\n    audio: 'Audio',\n    embed: 'Embed'\n  }\n}","export default {\n  base: {\n    remove: '删除',\n    cancel: '取消',\n    confirm: '确定',\n    inert: '插入',\n    width: '宽度',\n    height: '高度'\n  },\n  controls: {\n    clear: '清除内容',\n    undo: '撤销',\n    redo: '重做',\n    fontSize: '字号',\n    lineHeight: '行高',\n    letterSpacing: '字间距',\n    textIndent: '段落缩进',\n    increaseIndent: '增加缩进',\n    decreaseIndent: '减少缩进',\n    border: '边框',\n    color: '颜色',\n    textColor: '文字颜色',\n    backgroundColor: '背景颜色',\n    tempColors: '临时颜色',\n    bold: '加粗',\n    italic: '斜体',\n    underline: '下划线',\n    strikeThrough: '删除线',\n    fontFamily: '字体',\n    textAlign: '文本对齐',\n    alignLeft: '居左',\n    alignCenter: '居中',\n    alignRight: '居右',\n    alignJustify: '两端',\n    floatLeft: '左浮动',\n    floatRight: '右浮动',\n    superScript: '上标',\n    subScript: '下标',\n    removeStyles: '清除样式',\n    headings: '标题',\n    header: '标题',\n    normal: '常规',\n    orderedList: '有序列表',\n    unorderedList: '无序列表',\n    blockQuote: '引用',\n    code: '代码',\n    link: '链接',\n    unlink: '清除链接',\n    hr: '水平线',\n    media: '媒体',\n    mediaLibirary: '媒体库',\n    emoji: '小表情'\n  },\n  linkEditor: {\n    inputPlaceHolder: '输入链接地址',\n    inputWithEnterPlaceHolder: '输入链接地址并回车',\n    openInNewWindow: '在新窗口打开',\n    removeLink: '移除链接'\n  },\n  audioPlayer: {\n    title: '播放音频文件'\n  },\n  videoPlayer: {\n    title: '播放视频文件',\n    embedTitle: '嵌入式媒体'\n  },\n  media: {\n    image: '图像',\n    video: '视频',\n    audio: '音频',\n    embed: '嵌入式媒体'\n  }\n}","export default {\n  base: {\n    remove: '刪除',\n    cancel: '取消',\n    confirm: '確定',\n    inert: '插入',\n    width: '宽度',\n    height: '高度'\n  },\n  controls: {\n    clear: '清除内容',\n    undo: '撤銷',\n    redo: '重做',\n    fontSize: '字號',\n    color: '顏色',\n    textColor: '文字顏色',\n    backgroundColor: '背景顏色',\n    tempColors: '臨時顏色',\n    bold: '加粗',\n    lineHeight: '行高',\n    letterSpacing: '字間距',\n    textIndent: '段落縮進',\n    increaseIndent: '增加縮進',\n    decreaseIndent: '减少縮進',\n    border: '邊框',\n    italic: '斜體',\n    underline: '下劃線',\n    strikeThrough: '刪除線',\n    fontFamily: '字體',\n    textAlign: '文本對齊',\n    alignLeft: '居左',\n    alignCenter: '居中',\n    alignRight: '居右',\n    alignJustify: '兩端對齊',\n    floatLeft: '左浮動',\n    floatRight: '右浮動',\n    superScript: '上標',\n    subScript: '下標',\n    removeStyles: '清除样式',\n    headings: '標題',\n    header: '標題',\n    normal: '常規',\n    orderedList: '有序列表',\n    unorderedList: '無序列表',\n    blockQuote: '引用',\n    code: '代碼',\n    link: '鏈接',\n    unlink: '清除鏈接',\n    hr: '水平线',\n    media: '媒體',\n    mediaLibirary: '媒體库',\n    emoji: '小表情'\n  },\n  linkEditor: {\n    inputPlaceHolder: '輸入鏈接地址',\n    inputWithEnterPlaceHolder: '輸入鏈接地址並回車',\n    openInNewWindow: '在新窗口打開',\n    removeLink: '移除鏈接'\n  },\n  audioPlayer: {\n    title: '播放音頻文件'\n  },\n  videoPlayer: {\n    title: '播放視頻文件',\n    embedTitle: '嵌入式媒體'\n  },\n  media: {\n    image: '圖像',\n    video: '視頻',\n    audio: '音頻',\n    embed: '嵌入式媒體'\n  }\n}","import en from './en'\nimport zh from './zh'\nimport zhHant from './zh-hant'\n\nexport default {\n  'en': en,\n  'zh': zh,\n  'zh-hant': zhHant\n}","import { getDefaultKeyBinding, KeyBindingUtil } from 'draft-js'\n\n// TODO\n// 允许自定义的快捷键设置\n\nexport default (customKeyBindingFn) => (event) => {\n\n  if (event.keyCode === 83 && (KeyBindingUtil.hasCommandModifier(event) || KeyBindingUtil.isCtrlKeyCommand(event))) {\n    return 'braft-save'\n  }\n\n  if (customKeyBindingFn) {\n    return customKeyBindingFn(event) || getDefaultKeyBinding(event)\n  }\n\n  return getDefaultKeyBinding(event)\n\n}\n","import { ContentUtils, ColorUtils } from 'braft-utils'\n\nexport const keyCommandHandlers = (command, editorState, editor) => {\n\n  if (editor.props.handleKeyCommand && editor.props.handleKeyCommand(command, editorState) === 'handled') {\n    return 'handled'\n  }\n\n  if (command === 'braft-save') {\n    editor.props.onSave && editor.props.onSave(editorState)\n    return 'handled'\n  }\n\n  const { controls, excludeControls } = editor.props\n  const allowIndent = (controls.indexOf('text-indent') !== 0 || controls.find(item => item.key === 'text-indent')) && excludeControls.indexOf('text-indent') === -1\n  const cursorStart = editorState.getSelection().getStartOffset()\n  const cursorEnd = editorState.getSelection().getEndOffset()\n  const cursorIsAtFirst = cursorStart === 0 && cursorEnd === 0\n\n  if (command === 'backspace') {\n\n    if (editor.props.onDelete && editor.props.onDelete(editorState) === 'handled') {\n      return 'handled'\n    }\n\n    if (allowIndent && cursorIsAtFirst) {\n      editor.setValue(ContentUtils.decreaseSelectionIndent(editorState))\n    }\n\n  }\n\n  if (command === 'tab') {\n\n    const blockType = ContentUtils.getSelectionBlockType(editorState)\n\n    if (blockType === 'code-block') {\n      editor.setValue(ContentUtils.insertText(editorState, ' '.repeat(editor.props.codeTabIndents)))\n      return 'handled'\n    } else if (blockType !== 'atomic' && allowIndent && cursorIsAtFirst) {\n      editor.setValue(ContentUtils.increaseSelectionIndent(editorState))\n      return 'handled'\n    }\n\n  }\n\n  const nextEditorState = ContentUtils.handleKeyCommand(editorState, command)\n\n  if (nextEditorState) {\n    editor.setValue(nextEditorState)\n    return 'handled'\n  }\n\n  return 'not-handled'\n\n}\n\nexport const returnHandlers = (event, editorState, editor) => {\n\n  if (editor.props.handleReturn && editor.props.handleReturn(event, editorState) === 'handled') {\n    return 'handled'\n  }\n\n  const currentBlock = ContentUtils.getSelectionBlock(editorState)\n  const currentBlockType = currentBlock.getType()\n\n  if (currentBlockType === 'unordered-list-item' || currentBlockType === 'ordered-list-item') {\n\n    if (currentBlock.getLength() === 0) {\n      editor.setValue(ContentUtils.toggleSelectionBlockType(editorState, 'unstyled'))\n      return 'handled'\n    }\n\n  } else if (currentBlockType === 'code-block') {\n\n    if (\n      event.which === 13 && (\n        event.getModifierState('Shift') ||\n        event.getModifierState('Alt') ||\n        event.getModifierState('Control')\n      )) {\n      editor.setValue(ContentUtils.toggleSelectionBlockType(editorState, 'unstyled'))\n      return 'handled'\n    }\n\n  }\n\n  const nextEditorState = ContentUtils.handleNewLine(editorState, event)\n\n  if (nextEditorState) {\n    editor.setValue(nextEditorState)\n    return 'handled'\n  }\n\n  return 'not-handled'\n\n}\n\nexport const beforeInputHandlers = (chars, editorState, editor) => {\n\n  if (editor.props.handleBeforeInput && editor.props.handleBeforeInput(chars, editorState) === 'handled') {\n    return 'handled'\n  }\n\n  return 'not-handled'\n\n}\n\nexport const dropHandlers = (selectionState, dataTransfer, editor) => {\n\n  if (window && window.__BRAFT_DRAGING__IMAGE__) {\n\n    const editorState = ContentUtils.removeBlock(\n      ContentUtils.insertMedias(editorState, [window.__BRAFT_DRAGING__IMAGE__.mediaData]),\n      window.__BRAFT_DRAGING__IMAGE__.block, selectionState\n    )\n\n    window.__BRAFT_DRAGING__IMAGE__ = null\n\n    editor.setDraftProps({ readOnly: false })\n    editor.setValue(editorState)\n\n    return 'handled'\n\n  } else if (!dataTransfer || !dataTransfer.getText()) {\n    return 'handled'\n  }\n\n  return 'not-handled'\n\n}\n\nexport const handleFiles = (files, editor) => {\n\n  const { pasteImage, imagePasteLimit } = { ...editor.constructor.defaultProps.media, ...editor.props.media }\n\n  pasteImage && files.slice(0, imagePasteLimit).forEach((file) => {\n    file && file.type.indexOf('image') > -1 && editor.braftFinder.uploadImage(file, image => {\n      editor.isLiving && editor.setValue(ContentUtils.insertMedias(editor.state.editorState, [image]))\n    })\n  })\n\n  if (files[0] && files[0].type.indexOf('image') > -1 && pasteImage) {\n    return 'handled'\n  }\n\n  return 'not-handled'\n  \n}\n\nexport const droppedFilesHandlers = (selectionState, files, editor) => {\n\n  if (editor.props.handleDroppedFiles && editor.props.handleDroppedFiles(selectionState, files) === 'handled') {\n    return 'handled'\n  }\n\n  return handleFiles(files, editor)\n\n}\n\nexport const pastedFilesHandlers = (files, editor) => {\n\n  if (editor.props.handlePastedFiles && editor.props.handlePastedFiles(files) === 'handled') {\n    return 'handled'\n  }\n\n  return handleFiles(files, editor)\n\n}\n\nexport const pastedTextHandlers = (text, html, editorState, editor) => {\n\n  if (editor.props.handlePastedText && editor.props.handlePastedText(text, html, editorState) === 'handled') {\n    return 'handled'\n  }\n\n  if (!html || editor.props.stripPastedStyles) {\n    return false\n  }\n\n  const tempColors = ColorUtils.detectColorsFromHTMLString(html)\n\n  editor.setState({\n    tempColors: [...editor.state.tempColors, ...tempColors].filter(item => editor.props.colors.indexOf(item) === -1).filter((item, index, array) => array.indexOf(item) === index)\n  }, () => {\n    editor.setValue(ContentUtils.insertHTML(editorState, html, 'paste'))\n  })\n\n  return 'handled'\n\n}","export default {\n  language: 'en',\n  controls: [\n    'undo',\n    'redo',\n    'separator',\n    'font-size',\n    'line-height',\n    'letter-spacing',\n    'separator',\n    'text-color',\n    'bold',\n    'italic',\n    'underline',\n    'strike-through',\n    'separator',\n    'superscript',\n    'subscript',\n    'remove-styles',\n    'emoji',\n    'separator',\n    'text-indent',\n    'text-align',\n    'separator',\n    'headings',\n    'list-ul',\n    'list-ol',\n    'blockquote',\n    'code',\n    'separator',\n    'link',\n    'split',\n    'hr',\n    'separator',\n    'media',\n    'separator',\n    'clear',\n  ],\n  excludeControls: [],\n  extendControls: [],\n  extendAtomics: [],\n  componentBelowControlBar: null,\n  media: {\n    pasteImage: true,\n    imagePasteLimit: 5,\n    image: true,\n    video: true,\n    audio: true,\n    uploadFn: null,\n    validateFn: null,\n    onBeforeDeselect: null,\n    onDeselect: null,\n    onBeforeSelect: null,\n    onSelect: null,\n    onBeforeRemove: null,\n    onRemove: null,\n    onCancel: null,\n    onFileSelect: null,\n    onBeforeInsert: null,\n    onInsert: null,\n    onChange: null,\n    accepts: {\n      image: 'image/png,image/jpeg,image/gif,image/webp,image/apng,image/svg',\n      video: 'video/mp4',\n      audio: 'audio/mp3',\n    },\n    externals: {\n      // audio: true,\n      // video: true,\n      // image: true,\n      embed: true,\n    },\n  },\n  imageControls: [\n    'float-left',\n    'float-right',\n    'align-left',\n    'align-center',\n    'align-right',\n    'link',\n    'size',\n    'remove',\n  ],\n  colors: [\n    '#000000',\n    '#333333',\n    '#666666',\n    '#999999',\n    '#cccccc',\n    '#ffffff',\n    '#61a951',\n    '#16a085',\n    '#07a9fe',\n    '#003ba5',\n    '#8e44ad',\n    '#f32784',\n    '#c0392b',\n    '#d35400',\n    '#f39c12',\n    '#fdda00',\n    '#7f8c8d',\n    '#2c3e50',\n  ],\n  codeTabIndents: 2,\n  textAligns: ['left', 'center', 'right', 'justify'],\n  textBackgroundColor: true,\n  letterSpacings: [0, 1, 2, 3, 4, 5, 6],\n  lineHeights: [1, 1.2, 1.5, 1.75, 2, 2.5, 3, 4],\n  fontSizes: [\n    12,\n    14,\n    16,\n    18,\n    20,\n    24,\n    28,\n    30,\n    32,\n    36,\n    40,\n    48,\n    56,\n    64,\n    72,\n    96,\n    120,\n    144,\n  ],\n  fontFamilies: [\n    {\n      name: 'Araial',\n      family: 'Arial, Helvetica, sans-serif',\n    },\n    {\n      name: 'Georgia',\n      family: 'Georgia, serif',\n    },\n    {\n      name: 'Impact',\n      family: 'Impact, serif',\n    },\n    {\n      name: 'Monospace',\n      family: '\"Courier New\", Courier, monospace',\n    },\n    {\n      name: 'Tahoma',\n      family: 'tahoma, arial, \"Hiragino Sans GB\", 宋体, sans-serif',\n    },\n  ],\n  converts: {\n    unitExportFn: (unit) => `${unit}px`,\n  },\n  emojis: [\n    '🤣',\n    '🙌',\n    '💚',\n    '💛',\n    '👏',\n    '😉',\n    '💯',\n    '💕',\n    '💞',\n    '💘',\n    '💙',\n    '💝',\n    '🖤',\n    '💜',\n    '❤️',\n    '😍',\n    '😻',\n    '💓',\n    '💗',\n    '😋',\n    '😇',\n    '😂',\n    '😹',\n    '😘',\n    '💖',\n    '😁',\n    '😀',\n    '🤞',\n    '😲',\n    '😄',\n    '😊',\n    '👍',\n    '😌',\n    '😃',\n    '😅',\n    '✌️',\n    '🤗',\n    '💋',\n    '😗',\n    '😽',\n    '😚',\n    '🤠',\n    '😙',\n    '😺',\n    '👄',\n    '😸',\n    '😏',\n    '😼',\n    '👌',\n    '😎',\n    '😆',\n    '😛',\n    '🙏',\n    '🤝',\n    '🙂',\n    '🤑',\n    '😝',\n    '😐',\n    '😑',\n    '🤤',\n    '😤',\n    '🙃',\n    '🤡',\n    '😶',\n    '😪',\n    '😴',\n    '😵',\n    '😓',\n    '👊',\n    '😦',\n    '😷',\n    '🤐',\n    '😜',\n    '🤓',\n    '👻',\n    '😥',\n    '🙄',\n    '🤔',\n    '🤒',\n    '🙁',\n    '😔',\n    '😯',\n    '☹️',\n    '☠️',\n    '😰',\n    '😩',\n    '😖',\n    '😕',\n    '😒',\n    '😣',\n    '😢',\n    '😮',\n    '😿',\n    '🤧',\n    '😫',\n    '🤥',\n    '😞',\n    '😬',\n    '👎',\n    '💀',\n    '😳',\n    '😨',\n    '🤕',\n    '🤢',\n    '😱',\n    '😭',\n    '😠',\n    '😈',\n    '😧',\n    '💔',\n    '😟',\n    '🙀',\n    '💩',\n    '👿',\n    '😡',\n    '😾',\n    '🖕',\n  ],\n  stripPastedStyles: false,\n  className: '',\n  style: {},\n  controlBarClassName: '',\n  controlBarStyle: {},\n  contentClassName: '',\n  contentStyle: {},\n  draftProps: {},\n  hooks: {},\n  onChange: null,\n  onFocus: null,\n  onBlur: null,\n  onTab: null,\n  onDelete: null,\n  onSave: null,\n}\n","import './style.scss'\nimport React from 'react'\n\nexport default (props) => {\n\n  const { active, onClick, className } = props\n\n  return (\n    <div onClick={() => onClick()} className={'bf-switch ' + className + (active ? ' active' : '')}></div>\n  )\n\n}\n","import React from 'react'\n\nexport default (lang) => [\n  {\n    key: 'undo',\n    title: lang.controls.undo,\n    text: <i className=\"bfi-undo\"></i>,\n    type: 'editor-method',\n    command: 'undo'\n  }, {\n    key: 'redo',\n    title: lang.controls.redo,\n    text: <i className=\"bfi-redo\"></i>,\n    type: 'editor-method',\n    command: 'redo'\n  }, {\n    key: 'remove-styles',\n    title: lang.controls.removeStyles,\n    text: <i className=\"bfi-format_clear\"></i>,\n    type: 'editor-method',\n    command: 'removeSelectionInlineStyles'\n  }, {\n    key: 'hr',\n    title: lang.controls.hr,\n    text: <i className=\"bfi-hr\"></i>,\n    type: 'editor-method',\n    command: 'insertHorizontalLine'\n  }, {\n    key: 'bold',\n    title: lang.controls.bold,\n    text: <i className=\"bfi-bold\"></i>,\n    type: 'inline-style',\n    command: 'bold'\n  }, {\n    key: 'italic',\n    title: lang.controls.italic,\n    text: <i className=\"bfi-italic\"></i>,\n    type: 'inline-style',\n    command: 'italic'\n  }, {\n    key: 'underline',\n    title: lang.controls.underline,\n    text: <i className=\"bfi-underlined\"></i>,\n    type: 'inline-style',\n    command: 'underline'\n  }, {\n    key: 'strike-through',\n    title: lang.controls.strikeThrough,\n    text: <i className=\"bfi-strikethrough\"></i>,\n    type: 'inline-style',\n    command: 'strikethrough',\n  }, {\n    key: 'superscript',\n    title: lang.controls.superScript,\n    text: <i className=\"bfi-superscript\"></i>,\n    type: 'inline-style',\n    command: 'superscript'\n  }, {\n    key: 'subscript',\n    title: lang.controls.subScript,\n    text: <i className=\"bfi-subscript\"></i>,\n    type: 'inline-style',\n    command: 'subscript'\n  }, {\n    key: 'headings',\n    title: lang.controls.headings,\n    type: 'headings',\n  }, {\n    key: 'blockquote',\n    title: lang.controls.blockQuote,\n    text: <i className=\"bfi-quote\"></i>,\n    type: 'block-type',\n    command: 'blockquote',\n  }, {\n    key: 'code',\n    title: lang.controls.code,\n    text: <i className=\"bfi-code\"></i>,\n    type: 'block-type',\n    command: 'code-block'\n  }, {\n    key: 'list-ul',\n    title: lang.controls.unorderedList,\n    text: <i className=\"bfi-list\"></i>,\n    type: 'block-type',\n    command: 'unordered-list-item'\n  }, {\n    key: 'list-ol',\n    title: lang.controls.orderedList,\n    text: <i className=\"bfi-list-numbered\"></i>,\n    type: 'block-type',\n    command: 'ordered-list-item'\n  }, {\n    key: 'link',\n    title: lang.controls.link,\n    type: 'link'\n  }, {\n    key: 'text-color',\n    title: lang.controls.color,\n    type: 'text-color'\n  }, {\n    key: 'line-height',\n    title: lang.controls.lineHeight, \n    type: 'line-height'\n  }, {\n    key: 'letter-spacing',\n    title: lang.controls.letterSpacing,\n    type: 'letter-spacing'\n  }, {\n    key: 'text-indent',\n    title: lang.controls.textIndent,\n    type: 'text-indent'\n  },{\n    key: 'font-size',\n    title: lang.controls.fontSize,\n    type: 'font-size'\n  }, {\n    key: 'font-family',\n    title: lang.controls.fontFamily,\n    type: 'font-family'\n  }, {\n    key: 'text-align',\n    title: lang.controls.textAlign,\n    type: 'text-align'\n  }, {\n    key: 'media',\n    title: lang.controls.media,\n    text: <i className=\"bfi-media\"></i>,\n    type: 'media'\n  }, {\n    key: 'emoji',\n    title: lang.controls.emoji,\n    text: <i className=\"bfi-emoji\"></i>,\n    type: 'emoji'\n  }, {\n    key: 'clear',\n    title: lang.controls.clear,\n    text: lang.controls.clear,\n    type: 'editor-method',\n    command: 'clearEditorContent'\n  }, {\n    key: 'modal',\n    type: 'modal',\n  }, {\n    key: 'button',\n    type: 'button',\n  }, {\n    key: 'dropdown',\n    type: 'dropdown',\n  }, {\n    key: 'component',\n    type: 'component',\n  }\n]\n\nexport const imageControlItems = {\n  'float-left': {\n    text: <span data-float=\"left\">&#xe91e;</span>,\n    command: 'setImageFloat|left'\n  },\n  'float-right': {\n    text: <span data-float=\"right\">&#xe914;</span>,\n    command: 'setImageFloat|right'\n  },\n  'align-left': {\n    text: <span data-align=\"left\">&#xe027;</span>,\n    command: 'setImageAlignment|left'\n  },\n  'align-center': {\n    text: <span data-align=\"center\">&#xe028;</span>,\n    command: 'setImageAlignment|center'\n  },\n  'align-right': {\n    text: <span data-align=\"right\">&#xe029;</span>,\n    command: 'setImageAlignment|right'\n  },\n  'size': {\n    text: <span>&#xe3c2;</span>,\n    command: 'toggleSizeEditor'\n  },\n  'link': {\n    text: <span>&#xe91a;</span>,\n    command: 'toggleLinkEditor'\n  },\n  'remove': {\n    text: <span>&#xe9ac;</span>,\n    command: 'removeImage'\n  }\n}","import './style.scss'\nimport React from 'react'\nimport { ContentUtils } from 'braft-utils'\nimport Switch from 'components/common/Switch'\nimport { imageControlItems } from 'configs/controls'\n\nexport default class Image extends React.Component {\n\n  state = {\n    toolbarVisible: false,\n    toolbarOffset: 0,\n    linkEditorVisible: false,\n    sizeEditorVisible: false,\n    tempLink: null,\n    tempWidth: null,\n    tempHeight: null\n  }\n\n  render () {\n\n    const { mediaData, language, imageControls } = this.props\n    const { toolbarVisible, toolbarOffset, linkEditorVisible, sizeEditorVisible } = this.state\n    const blockData = this.props.block.getData()\n\n    let float = blockData.get('float')\n    let alignment = blockData.get('alignment')\n    let { src, url, link, link_target, width, height } = mediaData\n    let imageStyles = {}\n    let clearFix = false\n\n    if (float) {\n      alignment = null\n    } else if (alignment === 'left') {\n      imageStyles.float = 'left'\n      clearFix = true\n    } else if (alignment === 'right') {\n      imageStyles.float = 'right'\n      clearFix = true\n    } else if (alignment === 'center') {\n      imageStyles.textAlign = 'center'\n    } else {\n      imageStyles.float = 'left'\n      clearFix = true\n    }\n\n    const renderedControlItems = imageControls.map((item, index) => {\n\n      if (typeof item === 'string' && imageControlItems[item]) {\n        return (\n          <a className={item === 'link' && link ? 'active' : ''} key={index} href='javascript:void(0);' onClick={() => this.executeCommand(imageControlItems[item].command)}>\n            {imageControlItems[item].text}\n          </a>\n        )\n      } else if (item && item.onClick && (item.render || item.text)) {\n        return (\n          <a key={index} href='javascript:void(0);' onClick={() => this.executeCommand(item.onClick)}>\n            {item.render ? item.render(mediaData) : item.text}\n          </a>\n        )\n      } else {\n        return null\n      }\n\n    })\n\n    return (\n      <div className='bf-media'>\n        <div\n          style={imageStyles}\n          draggable={true}\n          onMouseEnter={this.showToolbar}\n          onMouseMove={this.showToolbar}\n          onMouseLeave={this.hideToolbar}\n          onDragStart={this.handleDragStart}\n          onDragEnd={this.handleDragEnd}\n          ref={instance => this.mediaEmbederInstance = instance}\n          className='bf-image'\n        >\n          {toolbarVisible ? (\n            <div\n              style={{marginLeft: toolbarOffset}}\n              ref={instance => this.toolbarElement = instance}\n              data-float={float}\n              data-align={alignment}\n              className='bf-media-toolbar'\n            >\n              {linkEditorVisible ? (\n                <div className='bf-image-link-editor'>\n                  <div className='editor-input-group'>\n                    <input type='text' placeholder={language.linkEditor.inputWithEnterPlaceHolder} onKeyDown={this.handleLinkInputKeyDown} onChange={this.setImageLink} defaultValue={link}/>\n                    <button type='button' onClick={this.confirmImageLink}>{language.base.confirm}</button>\n                  </div>\n                  <div className='switch-group'>\n                    <Switch\n                      active={link_target === '_blank'}\n                      onClick={() => this.setImageLinkTarget(link_target)}\n                    />\n                    <label>{language.linkEditor.openInNewWindow}</label>\n                  </div>\n                </div>\n              ) : null}\n              {sizeEditorVisible ? (\n                <div className='bf-image-size-editor'>\n                  <div className='editor-input-group'>\n                    <input type='text' placeholder={language.base.width} onKeyDown={this.handleSizeInputKeyDown} onChange={this.setImageWidth} defaultValue={width}/>\n                    <input type='text' placeholder={language.base.height} onKeyDown={this.handleSizeInputKeyDown} onChange={this.setImageHeight} defaultValue={height}/>\n                    <button type='button' onClick={this.confirmImageSize}>{language.base.confirm}</button>\n                  </div>\n                </div>\n              ) : null}\n              {renderedControlItems}\n              <i style={{marginLeft: toolbarOffset * -1}} className='bf-media-toolbar-arrow'></i>\n            </div>\n          ) : null}\n          <img\n            ref={instance => this.imageElement = instance}\n            src={src || url} style={{width, height}} width={width} height={height}\n          />\n        </div>\n        {clearFix && <div className='clearfix' style={{clear:'both',height:0,lineHeight:0,float:'none'}}></div>}\n      </div>\n    )\n\n  }\n\n  calcToolbarOffset () {\n\n    if (!this.props.containerNode) {\n      return 0\n    }\n\n    const viewRect = this.props.containerNode.getBoundingClientRect()\n    const toolbarRect = this.toolbarElement.getBoundingClientRect()\n    const imageRect = this.imageElement.getBoundingClientRect()\n\n    const right = viewRect.right - (imageRect.right - imageRect.width / 2 + toolbarRect.width / 2)\n    const left = (imageRect.left + imageRect.width / 2 - toolbarRect.width / 2) - viewRect.left\n\n    if (right < 10) {\n      return right - 10\n    } else if (left < 10) {\n      return left * -1 + 10\n    } else {\n      return 0\n    }\n\n  }\n\n  handleDragStart = () => {\n\n    window.__BRAFT_DRAGING__IMAGE__ = {\n      block: this.props.block,\n      mediaData: {\n        type: 'IMAGE',\n        ...this.props.mediaData\n      }\n    }\n\n    this.setState({\n      toolbarVisible: false\n    }, () => {\n      this.props.editor.setDraftProps({ readOnly: false })\n    })\n\n    return true\n\n  }\n\n  handleDragEnd = () => {\n\n    window.__BRAFT_DRAGING__IMAGE__ = null\n    return false\n\n  }\n\n  executeCommand = (command) => {\n    if (typeof command === 'string') {\n      const [method, param] = command.split('|')\n      this[method] && this[method](param)\n    } else if (typeof command === 'function') {\n      command(this.props.block, this.props.editorState)\n    }\n  }\n\n  removeImage = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n    this.props.editor.setDraftProps({ readOnly: false })\n  }\n\n  toggleLinkEditor = () => {\n    this.setState({\n      linkEditorVisible: !this.state.linkEditorVisible,\n      sizeEditorVisible: false\n    })\n  }\n\n  toggleSizeEditor = () => {\n    this.setState({\n      linkEditorVisible: false,\n      sizeEditorVisible: !this.state.sizeEditorVisible\n    })\n  }\n\n  handleLinkInputKeyDown = (e) => {\n\n    if (e.keyCode === 13) {\n      this.confirmImageLink()\n    } else {\n      return\n    }\n\n  }\n\n  setImageLink = (e) => {\n    this.setState({ tempLink: e.currentTarget.value })\n    return\n  }\n\n  setImageLinkTarget (link_target) {\n\n    link_target = link_target === '_blank' ? '' : '_blank'\n    this.props.editor.setValue(ContentUtils.setMediaData(this.props.editorState, this.props.entityKey, { link_target }))\n    window.setImmediate(this.props.editor.forceRender)\n\n  }\n\n  confirmImageLink = () => {\n\n    const { tempLink: link } = this.state\n\n    if (link !== null) {\n      this.props.editor.setValue(ContentUtils.setMediaData(this.props.editorState, this.props.entityKey, { link }))\n      window.setImmediate(this.props.editor.forceRender)\n    }\n\n  }\n\n  handleSizeInputKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      this.confirmImageSize()\n    } else {\n      return\n    }\n  }\n\n  setImageWidth = ({ currentTarget }) => {\n\n    let { value } = currentTarget\n\n    value && !isNaN(value) && (value = value + 'px')\n\n    this.setState({\n      tempWidth: value\n    })\n\n    return\n\n  }\n\n  setImageHeight = ({ currentTarget }) => {\n\n    let { value } = currentTarget\n\n    value && !isNaN(value) && (value = value + 'px')\n\n    this.setState({\n      tempHeight: value\n    })\n\n    return\n\n  }\n\n  confirmImageSize = () => {\n\n    const { tempWidth: width, tempHeight: height } = this.state\n    const newImageSize = {}\n\n    width !== null && (newImageSize.width = width)\n    height !== null && (newImageSize.height = height)\n\n    this.props.editor.setValue(ContentUtils.setMediaData(this.props.editorState, this.props.entityKey, newImageSize))\n    window.setImmediate(this.props.editor.forceRender)\n\n  }\n\n  setImageFloat = (float) => {\n    this.props.editor.setValue(ContentUtils.setMediaPosition(this.props.editorState, this.props.block, { float }))\n    this.props.editor.setDraftProps({ readOnly: false })\n  }\n\n  setImageAlignment = (alignment) => {\n    this.props.editor.setValue(ContentUtils.setMediaPosition(this.props.editorState, this.props.block, { alignment }))\n    this.props.editor.setDraftProps({ readOnly: false })\n  }\n\n  showToolbar = (event) => {\n\n    event.preventDefault()\n\n    if (!this.state.toolbarVisible) {\n      this.setState({\n        toolbarVisible: true\n      }, () => {\n        this.props.editor.setDraftProps({ readOnly: true })\n        this.setState({ toolbarOffset: this.calcToolbarOffset() })\n      })\n    }\n\n  }\n\n  hideToolbar = (event) => {\n\n    event.preventDefault()\n\n    this.setState({\n      toolbarVisible: false\n    }, () => {\n      this.props.editor.setDraftProps({ readOnly: false })\n      this.props.editor.requestFocus()\n    })\n\n  }\n\n}","import React from 'react'\n\nexport default class extends React.Component {\n\n  shouldComponentUpdate () {\n    return false\n  }\n\n  render () {\n    return <div>{this.props.children}</div>\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport StaticContainer from 'components/common/StaticContainer'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class Video extends React.Component {\n\n  state = {\n    toolbarVisible: false,\n  }\n\n  render () {\n\n    const { toolbarVisible } = this.state\n    const { mediaData } = this.props\n    const { src, url, meta } = mediaData\n\n    return (\n      <div\n        className='bf-video-wrap'\n        onMouseOver={this.showToolbar}\n        onMouseLeave={this.hideToolbar}\n      >\n        <StaticContainer>\n          <video controls src={src || url} poster={meta ? meta.poster || '' : ''}/>\n        </StaticContainer>\n        {toolbarVisible ? (\n          <div className='bf-media-toolbar'>\n            <a onClick={this.removeVideo}>&#xe9ac;</a>\n          </div>\n        ) : null}\n      </div>\n    )\n\n  }\n\n  removeVideo = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n  }\n\n  showToolbar = () => {\n    this.setState({\n      toolbarVisible: true\n    })\n  }\n\n  hideToolbar = () => {\n    this.setState({\n      toolbarVisible: false\n    })\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport StaticContainer from 'components/common/StaticContainer'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class Audio extends React.Component {\n\n  state = {\n    toolbarVisible: false,\n  }\n\n  render () {\n\n    const { toolbarVisible } = this.state\n    const { mediaData } = this.props\n    const { src, url } = mediaData\n\n    return (\n      <div\n        className='bf-audio'\n        onMouseOver={this.showToolbar}\n        onMouseLeave={this.hideToolbar}\n      >\n        <StaticContainer>\n          <audio controls src={src || url}/>\n        </StaticContainer>\n        {toolbarVisible ? (\n          <div className='bf-media-toolbar'>\n            <a onClick={this.removeAudio}>&#xe9ac;</a>\n          </div>\n        ) : null}\n      </div>\n    )\n\n  }\n\n  removeAudio = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n  }\n\n  showToolbar = () => {\n    this.setState({\n      toolbarVisible: true\n    })\n  }\n\n  hideToolbar = () => {\n    this.setState({\n      toolbarVisible: false\n    })\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport StaticContainer from 'components/common/StaticContainer'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class Embed extends React.Component {\n\n  state = {\n    toolbarVisible: false,\n  }\n\n  render () {\n\n    const { toolbarVisible } = this.state\n    const { mediaData } = this.props\n    const { src, url } = mediaData\n\n    return (\n      <div\n        className='bf-embed'\n        onMouseOver={this.showToolbar}\n        onMouseLeave={this.hideToolbar}\n      >\n        <StaticContainer>\n          <div className='bf-embed-player' dangerouslySetInnerHTML={{ __html: src || url}}></div>\n        </StaticContainer>\n        {toolbarVisible ? (\n          <div className='bf-media-toolbar'>\n            <a onClick={this.removeEmbed}>&#xe9ac;</a>\n          </div>\n        ) : null}\n      </div>\n    )\n\n  }\n\n  removeEmbed = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n  }\n\n  showToolbar = () => {\n    this.setState({\n      toolbarVisible: true\n    })\n  }\n\n  hideToolbar = () => {\n    this.setState({\n      toolbarVisible: false\n    })\n  }\n\n}","import React from 'react'\nimport { ContentUtils } from 'braft-utils'\nimport './style.scss'\n\nexport default class HorizontalLine extends React.Component {\n\n  render () {\n\n    return (\n      <div className='bf-hr'>\n        <div className='bf-media-toolbar'>\n          <a onClick={this.removeHorizontalLine}>&#xe9ac;</a>\n        </div>\n      </div>\n    )\n\n  }\n\n  removeHorizontalLine = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n  }\n\n}","export default (customBlockStyleFn) => (block) => {\n\n  const blockAlignment = block.getData() && block.getData().get('textAlign')\n  const blockIndent = block.getData() && block.getData().get('textIndent')\n  const blockFloat = block.getData() && block.getData().get('float')\n\n  let result = ''\n\n  if (blockAlignment) {\n    result = `bfa-${blockAlignment}`\n  }\n\n  if (blockIndent && blockIndent !== 0) {\n    result += ` bftd-${blockIndent}`\n  }\n\n  if (blockFloat) {\n    result += ` bff-${blockFloat}`\n  }\n\n  if (customBlockStyleFn) {\n    result += (customBlockStyleFn(block) || '')\n  }\n\n  return result\n\n}","import React from 'react'\n\nexport const extensionControls = []\nexport const extensionDecorators = []\nexport const extendInlineStyleMap = {}\nexport const extendInlineStyleFns = {}\n\nconst styleImporters = {}\nconst styleExporters = {}\nconst entities = {}\n\nexport const extendStyleImportFn = (styleImportFn) => (nodeName, node, style) => {\n\n  Object.keys(styleImporters).forEach(key => {\n    if (styleImporters[key](nodeName, node)) {\n      style = style.add(key)\n    }\n  })\n\n  return styleImportFn ? styleImportFn(nodeName, node, style) : style\n\n}\n\nexport const extendStyleExportFn = (styleExportFn) => (style) => {\n  return styleExportFn ? styleExportFn(style) : (styleExporters[style] || undefined)\n}\n\nexport const extendEntityImportFn = (entityImportFn) => (nodeName, node, createEntity, source) => {\n\n  let result\n\n  Object.keys(entities).find(key => {\n    const matchedEntity = entities[key].importer ? entities[key].importer(nodeName, node, source) : false\n    matchedEntity && (result = createEntity(key, matchedEntity.mutability || 'MUTABLE', matchedEntity.data || {}))\n    return !!matchedEntity\n  })\n\n  return entityImportFn ? entityImportFn(nodeName, node, createEntity, source) : result\n\n}\n\nexport const extendEntityExportFn = (entityExportFn) => (entity, originalText) => {\n  const entityType = entity.type.toUpperCase()\n  return entityExportFn ? entityExportFn(entity, originalText) : (entities[entityType].exporter ? entities[entityType].exporter(entity, originalText) : undefined)\n}\n\nconst useExtension = (extension) => {\n\n  if (extension instanceof Array) {\n    extension.forEach(useExtension)\n    return false\n  }\n\n  if(!extension || !extension.type || typeof extension.type !== 'string') {\n    return false\n  }\n\n  if (extension.type === 'inline-style') {\n\n    const inlineStyleName = extension.name.toUpperCase()\n\n    if (extension.control) {\n      extensionControls.push({\n        key: inlineStyleName,\n        type: 'inline-style',\n        command: inlineStyleName,\n        ...extension.control\n      })\n    }\n\n    extension.style && (extendInlineStyleMap[inlineStyleName] = extension.style)\n    extension.styleFn && (extendInlineStyleFns[inlineStyleName] = extension.styleFn)\n    extension.importer && (styleImporters[inlineStyleName] = extension.importer)\n\n    styleExporters[inlineStyleName] = extension.exporter ? extension.exporter(extension) : <span style={extension.style}/>\n\n  } else if (extension.type === 'entity') {\n\n    const entityName = extension.name.toUpperCase()\n\n    entities[entityName] = extension\n\n    extensionDecorators.push({\n      type: entityName,\n      component: extension.component\n    })\n\n  } else if (extension.type === 'block') {\n    // ...\n  } else if (extension.type === 'atomic') {\n    // ...\n  }\n\n}\n\nexport const createExtensibleEditor = (BraftEditor) => {\n\n  BraftEditor.use = useExtension\n\n  return BraftEditor\n\n}","import { extendInlineStyleMap } from 'helpers/extension'\n\nexport default (customStyleMap = {}) => ({\n  'SUPERSCRIPT': {\n    position: 'relative',\n    top: '-8px',\n    fontSize: '11px'\n  },\n  'SUBSCRIPT': {\n    position: 'relative',\n    bottom: '-8px',\n    fontSize: '11px'\n  },\n  ...extendInlineStyleMap,\n  ...customStyleMap\n})","import { extendInlineStyleFns } from 'helpers/extension'\n\nconst getStyleValue = (style) => style.split('-')[1]\n\nexport default (options) => (styles, block) => {\n\n  let output = {}\n  const { fontFamilies, unitExportFn, customStyleFn } = options\n\n  Object.keys(extendInlineStyleFns).forEach(key => {\n    output = extendInlineStyleFns[key](styles, block, output) || output\n  })\n\n  output = customStyleFn ? customStyleFn(styles, block, output) : {}\n\n  styles.forEach((style) => {\n\n    if (style.indexOf('COLOR-') === 0) {\n      output.color = '#' + getStyleValue(style)\n    } else if (style.indexOf('BGCOLOR-') === 0) {\n      output.backgroundColor = '#' + getStyleValue(style)\n    } else if (style.indexOf('FONTSIZE-') === 0) {\n      output.fontSize = unitExportFn(getStyleValue(style), 'font-size', 'editor')\n    } else if (style.indexOf('LINEHEIGHT-') === 0) {\n      output.lineHeight = unitExportFn(getStyleValue(style), 'line-height', 'editor')\n    } else if (style.indexOf('LETTERSPACING-') === 0) {\n      output.letterSpacing = unitExportFn(getStyleValue(style), 'letter-spacing', 'editor')\n    } else if (style.indexOf('TEXTINDENT-') === 0) {\n      output.textIndent = unitExportFn(getStyleValue(style), 'text-indent', 'editor')\n    } else if (style.indexOf('FONTFAMILY-') === 0) {\n      output.fontFamily = (fontFamilies.find(item => item.name === getStyleValue(style)) || {}).family || ''\n    }\n\n  })\n\n  return output\n\n}","import React from 'react'\n\nexport default (props) => {\n\n  const { children, entityKey, contentState } = props\n  const { href, target } = contentState.getEntity(entityKey).getData()\n\n  return (\n    <span className='bf-link-wrap'>\n      <a onClick={(event) => viewLink(event, href)} className='bf-link' href={href} target={target}>{children}</a>\n    </span>\n  )\n\n}\n\nconst viewLink = (event, link) => {\n  if (event.getModifierState('Shift')) {\n    const tempLink = document.createElement('a')\n    tempLink.href = link\n    tempLink.target = '_blank'\n    tempLink.click()\n  }\n}","import { CompositeDecorator } from 'draft-js'\nimport { extensionDecorators } from 'helpers/extension'\nimport Link from './Link'\n\nconst builtinDecorators = [\n  {\n    type: 'LINK',\n    component: Link\n  }\n]\n\nconst createStrategy = (type) => (contentBlock, callback, contentState) => {\n\n  contentBlock.findEntityRanges((character) => {\n    const entityKey = character.getEntity()\n    return (\n      entityKey !== null &&\n      contentState.getEntity(entityKey).getType() === type\n    )\n  }, callback)\n\n}\n\nexport default () => new CompositeDecorator([\n  ...builtinDecorators,\n  ...extensionDecorators\n].map(item => ({\n  strategy: createStrategy(item.type),\n  component: item.component\n})))","import React from 'react'\nimport { Map } from 'immutable'\nimport { DefaultDraftBlockRenderMap } from 'draft-js'\nimport Image from './atomics/Image'\nimport Video from './atomics/Video'\nimport Audio from './atomics/Audio'\nimport Embed from './atomics/Embed'\nimport HorizontalLine from './atomics/HorizontalLine'\nimport _getBlockStyleFn from './styles/blockStyleFn'\nimport _getCustomStyleMap from './styles/inlineStyleMap'\nimport _getCustomStyleFn from './styles/inlineStyleFn'\nimport _getDecorators from './decorators'\n\nconst getAtomicBlockComponent = (block, superProps) => (props) => {\n\n  const entityKey = props.block.getEntityAt(0)\n\n  if (!entityKey) {\n    return null\n  }\n\n  const entity = props.contentState.getEntity(entityKey)\n  const mediaData = entity.getData()\n  const mediaType = entity.getType()\n  const mediaProps = {\n    ...superProps,\n    block, mediaData, entityKey\n  }\n\n  if (mediaType === 'IMAGE') {\n    return <Image { ...mediaProps } />\n  } else if (mediaType === 'AUDIO') {\n    return <Audio { ...mediaProps } />\n  } else if (mediaType === 'VIDEO') {\n    return <Video { ...mediaProps } />\n  } else if (mediaType === 'EMBED') {\n    return <Embed { ...mediaProps } />\n  } else if (mediaType === 'HR') {\n    return <HorizontalLine { ...mediaProps } />\n  }\n\n  if (superProps.extendAtomics) {\n    const atomics = superProps.extendAtomics\n    for (let i = 0; i < atomics.length; i++) {\n      if (mediaType === atomics[i].type) {\n        const Component = atomics[i].component\n        return <Component {...mediaProps} />\n      }\n    }\n  }\n\n  return null\n\n}\n\nexport const getBlockRendererFn = (props, customBlockRendererFn) => (block) => {\n\n  let blockRenderer = null\n\n  if (block.getType() === 'atomic') {\n\n    blockRenderer = {\n      component: getAtomicBlockComponent(block, props),\n      editable: false\n    }\n\n  } else if (customBlockRendererFn) {\n    blockRenderer = customBlockRendererFn(block) || null\n  }\n\n  return blockRenderer\n\n}\n\nexport const customBlockRenderMap = Map({\n  'atomic': {\n    element: ''\n  },\n  'code-block': {\n    element: 'code',\n    wrapper: DefaultDraftBlockRenderMap.get('code-block').wrapper\n  }\n})\n\nexport const getBlockStyleFn = _getBlockStyleFn\nexport const getCustomStyleMap = _getCustomStyleMap\nexport const getCustomStyleFn = _getCustomStyleFn\nexport const getDecorators = _getDecorators","import { BaseUtils } from 'braft-utils'\n\nlet resizeEventHandlers = []\nlet responsiveHelperInited = false\nlet debouce = false\n\nexport default {\n\n  resolve (eventHandler) {\n    let id = BaseUtils.UniqueIndex()\n    resizeEventHandlers.push({ id, eventHandler })\n    return id\n  },\n\n  unresolve (id) {\n    resizeEventHandlers = resizeEventHandlers.filter(item => item.id !== id)\n  }\n\n}\n\nif (!responsiveHelperInited) {\n\n  window.addEventListener('resize', (event) => {\n    clearTimeout(debouce)\n    debouce = setTimeout(() => {\n      resizeEventHandlers.map((item) => {\n        typeof item.eventHandler === 'function' && item.eventHandler(event)\n      })\n      debouce = false\n    }, 100)\n  })\n\n  responsiveHelperInited = true\n\n}","import './style.scss'\nimport React from 'react'\nimport ResponsiveHelper from 'helpers/responsive'\nimport { BaseUtils } from 'braft-utils'\n\nexport default class DropDown extends React.Component {\n\n  alive = false\n  responsiveResolveId = null\n  dropDownHandlerElement = null\n  dropDownContentElement = null\n  componentId = this.props.componentId || ('BRAFT-DROPDOWN-' + BaseUtils.UniqueIndex())\n  state = {\n    active: false,\n    offset: 0,\n    maxHeight: 100\n  }\n\n  componentDidMount () {\n\n    this.alive = true\n\n    document.body.addEventListener('click', (event) => {\n      this.registerClickEvent(event)\n    })\n\n    this.responsiveResolveId = ResponsiveHelper.resolve(() => {\n      this.fixDropDownPosition()\n    })\n\n  }\n\n  componentWillReceiveProps (next) {\n\n    if (!this.props.disabled && next.disabled) {\n      this.hide()\n    }\n\n  }\n\n  componentDidUpdate (prevState) {\n\n    if (!prevState.active && this.state.active) {\n      this.fixDropDownPosition()\n    }\n\n  }\n\n  componentWillUnmount () {\n\n    document.body.removeEventListener('click', (event) => {\n      this.registerClickEvent(event)\n    })\n\n    this.alive = false\n    ResponsiveHelper.unresolve(this.responsiveResolveId)\n\n  }\n\n  render () {\n\n    let { active, offset, maxHeight } = this.state\n    let { caption, htmlCaption, title, disabled, showArrow, arrowActive, className, children } = this.props\n\n    disabled && (active = false)\n\n    return (\n      <div\n        id={this.componentId}\n        className={'bf-dropdown ' + (active ? 'active ' : '') + (disabled ? 'disabled ' : '') + className}\n      >\n        {htmlCaption ? (\n          <button\n            type='button'\n            className='dropdown-handler'\n            data-title={title}\n            data-braft-component-id={this.componentId}\n            dangerouslySetInnerHTML={htmlCaption ? {__html: htmlCaption} : null}\n            ref={(instance) => this.dropDownHandlerElement = instance}\n          ></button>\n        ) : (\n          <button\n            type='button'\n            className='dropdown-handler'\n            data-title={title}\n            data-braft-component-id={this.componentId}\n            ref={(instance) => this.dropDownHandlerElement = instance}\n          >\n            <span>{caption}</span>\n            {showArrow !== false ? <i className='bfi-drop-down'></i> : null}\n          </button>\n        )}\n        <div\n          className='dropdown-content'\n          style={{marginLeft: offset }}\n          ref={(instance) => this.dropDownContentElement = instance}\n        >\n          <i\n            style={{marginLeft: offset * -1}}\n            className={'dropdown-arrow' + (arrowActive ? ' active' : '')}\n          ></i>\n          <div\n            className='dropdown-content-inner'\n            style={{ maxHeight }}\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n\n  }\n\n  fixDropDownPosition () {\n\n    const viewRect = this.props.containerNode.getBoundingClientRect()\n    const editorContentRect = this.props.containerNode.querySelector('.bf-content').getBoundingClientRect()\n    const handlerRect = this.dropDownHandlerElement.getBoundingClientRect()\n    const contentRect = this.dropDownContentElement.getBoundingClientRect()\n\n    const maxHeight = editorContentRect.height + (editorContentRect.top - (handlerRect.top + handlerRect.height)) - 30\n\n    let offset = 0\n    let right = handlerRect.right - handlerRect.width / 2 + contentRect.width / 2\n    let left = handlerRect.left + handlerRect.width / 2 - contentRect.width / 2\n\n    right = viewRect.right - right\n    left = left - viewRect.left\n\n    if (right < 10) {\n      offset = right - 10\n    } else if (left < 10) {\n      offset = left * -1 + 10\n    }\n\n    if (offset !== this.state.offset || maxHeight !== this.state.maxHeight) {\n      this.setState({ offset, maxHeight })\n    }\n\n  }\n\n  registerClickEvent (event) {\n\n    let { autoHide } = this.props\n    let active = false\n\n    if (event.target.dataset.braftComponentId === this.componentId) {\n      active = event.target.dataset.keepActive ? true : !this.state.active\n    } else if (autoHide === false) {\n      active = this.state.active\n    }\n\n    this.alive && this.setState({ active })\n\n  }\n\n  show () {\n    this.setState({\n      active: true\n    })\n  }\n\n  hide () {\n    this.setState({\n      active: false\n    })\n  }\n\n\n}","import './style.scss'\nimport React from 'react'\nimport Switch from 'components/common/Switch'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class LinkEditor extends React.Component {\n\n  state = {\n    href: '',\n    target: ''\n  }\n\n  dropDownComponent = null\n\n  componentWillReceiveProps (next) {\n\n    const { href, target } = ContentUtils.getSelectionEntityData(next.editorState, 'LINK')\n    this.setState({\n      href: href || '',\n      target: target || ''\n    })\n\n  }\n\n  render () {\n\n    const { href, target } = this.state\n    const caption = <i className='bfi-link'></i>\n    const textSelected = !ContentUtils.isSelectionCollapsed(this.props.editorState) && ContentUtils.getSelectionBlockType(this.props.editorState) !== 'atomic'\n\n    return (\n      <div className='control-item-group'>\n        <DropDown\n          caption={caption}\n          title={this.props.language.controls.link}\n          autoHide={false}\n          containerNode={this.props.containerNode}\n          showArrow={false}\n          disabled={!textSelected}\n          ref={(instance) => this.dropDownComponent = instance}\n          className={'control-item dropdown link-editor-dropdown'}\n        >\n          <div className='bf-link-editor'>\n            <div className='input-group'>\n              <input\n                type='text'\n                value={href}\n                spellCheck={false}\n                placeholder={this.props.language.linkEditor.inputPlaceHolder}\n                onKeyDown={this.handeKeyDown}\n                onChange={this.inputLink}\n              />\n            </div>\n            <div className='switch-group'>\n              <Switch\n                active={target === '_blank'}\n                onClick={this.setTarget}\n              />\n              <label>{this.props.language.linkEditor.openInNewWindow}</label>\n            </div>\n            <div className='buttons'>\n              <a onClick={this.handleUnlink} className='primary pull-left' href='javascript:void(0);'>\n                <i className='bfi-close'></i>\n                <span>{this.props.language.linkEditor.removeLink}</span>\n              </a>\n              <button type='button' onClick={this.handleConfirm} className='primary pull-right'>{this.props.language.base.confirm}</button>\n              <button type='button' onClick={this.handleCancel} className='default pull-right'>{this.props.language.base.cancel}</button>\n            </div>\n          </div>\n        </DropDown>\n        <button\n          type='button'\n          data-title={this.props.language.controls.unlink}\n          className='control-item button'\n          onClick={this.handleUnlink}\n          disabled={!textSelected || !href}\n        >\n          <i className='bfi-link-off'></i>\n        </button>\n      </div>\n    )\n\n  }\n\n  handeKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      this.handleConfirm()\n      e.preventDefault()\n      return false\n    }\n  }\n\n  inputLink = (e) => {\n    this.setState({\n      href: e.currentTarget.value\n    })\n  }\n\n  setTarget = () => {\n    this.setState({\n      target: this.state.target === '_blank' ? '' : '_blank'\n    })\n  }\n\n  handleCancel = () => {\n    this.dropDownComponent.hide()\n  }\n\n  handleUnlink = () => {\n    this.dropDownComponent.hide()\n    this.props.editor.setValue(ContentUtils.toggleSelectionLink(this.props.editorState, false))\n  }\n\n  handleConfirm = () => {\n\n    let { href, target } = this.state\n    const hookReturns = this.props.hooks('toggle-link', { href, target })({ href, target })\n\n    this.dropDownComponent.hide()\n    this.props.editor.requestFocus()\n\n    if (hookReturns === false) {\n      return false\n    }\n\n    if (hookReturns) {\n      typeof hookReturns.href === 'string' && (href = hookReturns.href)\n      typeof hookReturns.target === 'string' && (target = hookReturns.target)\n    }\n\n    this.props.editor.setValue(ContentUtils.toggleSelectionLink(this.props.editorState, href, target))\n\n  }\n\n}","import React from 'react'\n\nexport const getHeadings = (lang) => [\n  {\n    key: 'header-one',\n    title: lang.controls.header,\n    text: <h1>{lang.controls.header}</h1>,\n    type: 'block-type',\n    command: 'header-one',\n  },\n  // {\n  //   key: 'header-two',\n  //   title: lang.controls.header + ' 2',\n  //   text: <h2>{lang.controls.header} 2</h2>,\n  //   type: 'block-type',\n  //   command: 'header-two'\n  // }, {\n  //   key: 'header-three',\n  //   title: lang.controls.header + ' 3',\n  //   text: <h3>{lang.controls.header} 3</h3>,\n  //   type: 'block-type',\n  //   command: 'header-three'\n  // }, {\n  //   key: 'header-four',\n  //   title: lang.controls.header + ' 4',\n  //   text: <h4>{lang.controls.header} 4</h4>,\n  //   type: 'block-type',\n  //   command: 'header-four'\n  // }, {\n  //   key: 'header-five',\n  //   title: lang.controls.header + ' 5',\n  //   text: <h5>{lang.controls.header} 5</h5>,\n  //   type: 'block-type',\n  //   command: 'header-five'\n  // }, {\n  //   key: 'header-six',\n  //   title: lang.controls.header + ' 6',\n  //   text: <h6>{lang.controls.header} 6</h6>,\n  //   type: 'block-type',\n  //   command: 'header-six'\n  // },\n  {\n    key: 'unstyled',\n    title: lang.controls.normal,\n    text: lang.controls.normal,\n    type: 'block-type',\n    command: 'unstyled',\n  },\n]\n\nexport const blocks = {\n  'header-one': 'h1',\n  'header-two': 'h2',\n  'header-three': 'h3',\n  'header-four': 'h4',\n  'header-fiv': 'h5',\n  'header-six': 'h6',\n  unstyled: 'p',\n  blockquote: 'blockquote',\n}\n","import './style.scss'\nimport React from 'react'\nimport { getHeadings } from 'configs/maps'\nimport DropDown from 'components/common/DropDown'\n\nexport default (props) => {\n\n  const headings = getHeadings(props.language)\n  const currentHeadingIndex = headings.findIndex((item) => item.command === props.current)\n  const caption = headings[currentHeadingIndex] ? headings[currentHeadingIndex].title : props.language.controls.normal\n\n  return (\n    <DropDown\n      caption={caption}\n      containerNode={props.containerNode}\n      title={props.language.controls.headings}\n      arrowActive={currentHeadingIndex === 0}\n      className={'control-item dropdown headings-dropdown'}\n    >\n      <ul className='menu'>\n        {\n          headings.map((item, index) => {\n            let isActive = props.current === item.command\n            return (\n              <li\n                key={index}\n                className={'menu-item' + (isActive ? ' active' : '')}\n                onClick={() => props.onChange(item.command, item.type)}\n              >\n                {item.text}\n              </li>\n            )\n          })\n        }\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\n\nexport default (props) => {\n\n  const { current, colors } = props\n\n  return (\n    <div className='bf-colors-wrap'>\n      <ul className='bf-colors'>\n        {colors.map((item, index) => {\n          let className = item === current ? 'color-item active' : 'color-item'\n          return (\n            <li\n              key={index}\n              title={item}\n              className={className}\n              style={{color: item}}\n              data-color={item.replace('#', '')}\n              onClick={(e) => props.onChange(e.currentTarget.dataset.color)}\n            >\n            </li>\n          )\n        })}\n      </ul>\n    </div>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport ColorPicker from 'components/common/ColorPicker'\nimport { BaseUtils, ContentUtils } from 'braft-utils'\n\nexport default class TextColor extends React.Component {\n\n  state = {\n    colorType: 'color'\n  }\n\n  dropDownComponentId = 'BRAFT-DROPDOWN-' + BaseUtils.UniqueIndex()\n\n  render () {\n\n    let captionStyle = {}\n    let currentColor = null\n    let { colorType } = this.state\n\n    this.props.colors.forEach((color) => {\n      let color_id = color.replace('#', '')\n      if (ContentUtils.selectionHasInlineStyle(this.props.editorState, 'COLOR-' + color_id)) {\n        captionStyle.color = color\n        colorType === 'color' && (currentColor = color)\n      }\n\n      if (ContentUtils.selectionHasInlineStyle(this.props.editorState, 'BGCOLOR-' + color_id)) {\n        captionStyle.backgroundColor = color\n        colorType === 'background-color' && (currentColor = color)\n      }\n\n    })\n\n    const caption = (\n      <i style={captionStyle} className='bfi-text-color'>\n        <span className='path1'></span>\n        <span className='path2'></span>\n      </i>\n    )\n\n    return (\n      <DropDown\n        caption={caption}\n        title={this.props.language.controls.color}\n        showArrow={false}\n        containerNode={this.props.containerNode}\n        componentId={this.dropDownComponentId}\n        ref={(instance) => this.dropDownComponent = instance}\n        className={'control-item dropdown text-color-dropdown'}\n      >\n        <div className='bf-text-color-picker-wrap'>\n          <div className='bf-color-switch-buttons' style={this.props.enableBackgroundColor ? {} : {display: 'none'}}>\n            <button\n              type='button'\n              data-type='color'\n              data-keep-active={true}\n              data-braft-component-id={this.dropDownComponentId}\n              className={colorType === 'color' ? 'active' : ''}\n              onClick={this.switchColorType}\n            >{this.props.language.controls.textColor}</button>\n            <button\n              type='button'\n              data-type='background-color'\n              data-keep-active={true}\n              data-braft-component-id={this.dropDownComponentId}\n              className={colorType === 'background-color' ? 'active' : ''}\n              onClick={this.switchColorType}\n            >{this.props.language.controls.backgroundColor}</button>\n          </div>\n          <ColorPicker\n            width={200}\n            language={this.props.language}\n            current={currentColor}\n            disableAlpha={true}\n            colors={this.props.colors}\n            onChange={this.toggleColor}\n          />\n        </div>\n      </DropDown>\n    )\n\n  }\n\n  switchColorType = ({ currentTarget }) => {\n    this.setState({\n      colorType: currentTarget.dataset.type\n    })\n  }\n\n  toggleColor = (color) => {\n\n    const hookReturns = this.props.hooks(`toggle-text-${this.state.colorType}`, color)(color)\n\n    if (hookReturns === false) {\n      return false\n    }\n\n    if (typeof hookReturns === 'string') {\n      color =  hookReturns\n    }\n\n    if (this.state.colorType === 'color') {\n      this.props.editor.setValue(ContentUtils.toggleSelectionColor(this.props.editorState, color, this.props.colors))\n    } else {\n      this.props.editor.setValue(ContentUtils.toggleSelectionBackgroundColor(this.props.editorState, color, this.props.colors))\n    }\n\n    this.dropDownComponent.hide()\n    this.props.editor.requestFocus()\n\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst toggleFontSize = (event, props) => {\n\n  let fontSize = event.currentTarget.dataset.size\n  const hookReturns = props.hooks('toggle-font-size', fontSize)(fontSize)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (!isNaN(fontSize)) {\n    fontSize = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.toggleSelectionFontSize(props.editorState, fontSize, props.fontSizes))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  let caption = null\n  let currentFontSize = null\n\n  props.fontSizes.find((item) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'FONTSIZE-' + item)) {\n      caption = item\n      currentFontSize = item\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      containerNode={props.containerNode}\n      title={props.language.controls.fontSize}\n      className={'control-item dropdown bf-font-size-dropdown'}\n    >\n      <ul className='bf-font-sizes'>\n        {props.fontSizes.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={item === currentFontSize ? 'active' : null}\n              data-size={item}\n              onClick={(event) => toggleFontSize(event, props)}\n            >{item}</li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst toggleLineHeight = (event, props) => {\n\n  let lineHeight = event.currentTarget.dataset.size\n  const hookReturns = props.hooks('toggle-line-height', lineHeight)(lineHeight)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (!isNaN(hookReturns)) {\n    lineHeight = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.toggleSelectionLineHeight(props.editorState, lineHeight, props.lineHeights))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  let caption = null\n  let currentLineHeight = null\n\n  props.lineHeights.find((item) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'LINEHEIGHT-' + item)) {\n      caption = item\n      currentLineHeight = item\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      containerNode={props.containerNode}\n      title={props.language.controls.lineHeight}\n      className={'control-item dropdown bf-line-height-dropdown'}\n    >\n      <ul className='bf-line-heights'>\n        {props.lineHeights.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={item === currentLineHeight ? 'active' : null}\n              data-size={item}\n              onClick={(event) => toggleLineHeight(event, props)}\n            >{item}</li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst toggleFontFamily = (event, props) => {\n\n  let fontFamilyName = event.currentTarget.dataset.name\n  const hookReturns = props.hooks('toggle-font-family', fontFamilyName)(fontFamilyName, props.fontFamilies)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (typeof hookReturns === 'string') {\n    fontFamilyName = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.toggleSelectionFontFamily(props.editorState, fontFamilyName, props.fontFamilies))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  let caption = null\n  let currentIndex = null\n\n  props.fontFamilies.find((item, index) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'FONTFAMILY-' + item.name)) {\n      caption = item.name\n      currentIndex = index\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      containerNode={props.containerNode}\n      title={props.language.controls.fontFamily}\n      arrowActive={currentIndex === 0}\n      className={'control-item dropdown font-family-dropdown'}\n    >\n      <ul className='menu'>\n        {props.fontFamilies.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={'menu-item ' + (index === currentIndex ? 'active' : '')}\n              data-name={item.name}\n              onClick={(event) => toggleFontFamily(event, props)}\n            >\n              <span style={{fontFamily: item.family}}>{item.name}</span>\n            </li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import React from 'react'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class TextAlign extends React.Component {\n\n  state = {\n    currentAlignment: undefined\n  }\n\n  componentWillReceiveProps (next) {\n    this.setState({\n      currentAlignment: ContentUtils.getSelectionBlockData(next.editorState, 'textAlign')\n    })\n  }\n\n  setAlignment = (event) => {\n\n    let { alignment } = event.currentTarget.dataset\n    const hookReturns = this.props.hooks('toggle-text-alignment', alignment)(alignment)\n\n    if (this.props.textAligns.indexOf(hookReturns) > -1) {\n      alignment = hookReturns\n    }\n\n    this.props.editor.setValue(ContentUtils.toggleSelectionAlignment(this.props.editorState, alignment))\n    this.props.editor.requestFocus()\n\n  }\n\n  render () {\n\n    const textAlignmentTitles = [\n      this.props.language.controls.alignLeft,\n      this.props.language.controls.alignCenter,\n      this.props.language.controls.alignRight,\n      this.props.language.controls.alignJustify\n    ]\n\n    return (\n      <div className='control-item-group'>\n        {\n          this.props.textAligns.map((item, index) => {\n            return (\n              <button\n                type='button'\n                key={index}\n                data-title={textAlignmentTitles[index]}\n                data-alignment={item}\n                className={'control-item button ' + (item === this.state.currentAlignment ? 'active' : null)}\n                onClick={this.setAlignment}\n              >\n                <i className={'bfi-align-' + item}></i>\n              </button>\n            )\n          })\n        }\n      </div>\n    )\n\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst insertEmoji = (event, props) => {\n\n  let emoji = event.currentTarget.dataset.emoji\n  const hookReturns = props.hooks('insert-emoji', emoji)(emoji)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (typeof hookReturns === 'string') {\n    emoji = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.insertText(props.editorState, emoji))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  return (\n    <DropDown\n      caption={props.defaultCaption}\n      showArrow={false}\n      containerNode={props.containerNode}\n      title={props.language.controls.emoji}\n      className={'control-item dropdown bf-emoji-dropdown'}\n    >\n      <div className='bf-emojis-wrap'>\n        <ul className='bf-emojis'>\n          {props.emojis.map((item, index) => {\n            return (\n              <li\n                key={index}\n                data-emoji={item}\n                onClick={(event) => insertEmoji(event, props)}\n              >{item}</li>\n            )\n          })}\n        </ul>\n      </div>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst toggleLetterSpacing = (event, props) => {\n\n  let letterSpacing = event.currentTarget.dataset.size\n  const hookReturns = props.hooks('toggle-letter-spacing', letterSpacing)(letterSpacing)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (!isNaN(hookReturns)) {\n    letterSpacing = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.toggleSelectionLetterSpacing(props.editorState, letterSpacing, props.letterSpacings))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  let caption = null\n  let currentLetterSpacing = null\n\n  props.letterSpacings.find((item) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'LETTERSPACING-' + item)) {\n      caption = item\n      currentLetterSpacing = item\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      containerNode={props.containerNode}\n      title={props.language.controls.letterSpacing}\n      className={'control-item dropdown bf-letter-spacing-dropdown'}\n    >\n      <ul className='bf-letter-spacings'>\n        {props.letterSpacings.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={item === currentLetterSpacing ? 'active' : null}\n              data-size={item}\n              onClick={(event) => toggleLetterSpacing(event, props)}\n            >{item}</li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import React from 'react'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class TextAlign extends React.Component {\n\n  state = {\n    currentIndent: 0\n  }\n\n  componentWillReceiveProps (nextProps) {\n    this.setState({\n      currentIndent: ContentUtils.getSelectionBlockData(nextProps.editorState, 'textIndent') || 0\n    })\n  }\n\n  increaseIndent = () => {\n    this.props.editor.setValue(ContentUtils.increaseSelectionIndent(this.props.editorState))\n    this.props.editor.requestFocus()\n  }\n\n  decreaseIndent = () => {\n    this.props.editor.setValue(ContentUtils.decreaseSelectionIndent(this.props.editorState))\n    this.props.editor.requestFocus()\n  }\n\n  render () {\n\n    const { currentIndent } = this.state\n    const { language } = this.props\n\n    return (\n      <div className='control-item-group'>\n        <button\n          type='button'\n          data-title={language.controls.increaseIndent}\n          disabled={currentIndent >= 6}\n          className={`control-item button button-indent-increase${currentIndent > 0 && currentIndent < 6 ? ' active' : ''}`}\n          onClick={this.increaseIndent}\n        >\n          <i className={'bfi-indent-increase'}></i>\n        </button>\n        <button\n          type='button'\n          data-title={language.controls.decreaseIndent}\n          disabled={currentIndent <= 0}\n          className=\"control-item button button-indent-decrease\"\n          onClick={this.decreaseIndent}\n        >\n          <i className={'bfi-indent-decrease'}></i>\n        </button>\n      </div>\n    )\n\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BaseUtils } from 'braft-utils'\n\nexport default class Modal extends React.Component {\n\n  constructor (props) {\n\n    super(props)\n    this.active = false\n    this.componentId = 'BRAFT-MODAL-' + BaseUtils.UniqueIndex()\n\n  }\n\n  static defaultProps = {\n    showFooter: true\n  }\n\n  componentDidMount () {\n\n    if (this.props.visible) {\n      this.active = true\n      this.renderComponent(this.props)\n    }\n\n  }\n\n  componentWillReceiveProps (next) {\n\n    if (this.props.visible && !next.visible) {\n      this.unrenderComponent()\n    } else if (this.props.visible || next.visible) {\n      this.active = true\n      this.renderComponent(next)\n    }\n\n  }\n\n  render () {\n    return null\n  }\n\n  handleTransitionEnd = () => {\n\n    if (!this.rootElement || !this.rootElement.classList) {\n      return false\n    }\n\n    if (!this.rootElement.classList.contains('active')) {\n      ReactDOM.unmountComponentAtNode(this.rootElement) && this.rootElement.parentNode.removeChild(this.rootElement)\n    }\n\n  }\n\n  unrenderComponent () {\n    this.active = false\n    this.activeId && window.clearImmediate(this.activeId)\n    if (this.rootElement && this.rootElement.classList) {\n      this.rootElement.classList.remove('active')\n    }\n  }\n\n  renderComponent (props) {\n\n    if (!this.active) {\n      return false\n    }\n\n    let { title, className, width, height, children, component, confirmable, showFooter, showCancel, showConfirm, showClose, cancelText, confirmText, bottomText, language } = props\n\n    typeof showCancel === 'undefined' && (showCancel = true)\n    typeof showClose === 'undefined' && (showClose = true)\n    typeof showConfirm === 'undefined' && (showConfirm = true)\n    typeof showFooter === 'undefined' && (showFooter = true)\n\n    const childComponent = (\n      <div className={'bf-modal ' + (className || '')}>\n        <div className='bf-modal-mask'></div>\n        <div onTransitionEnd={this.handleTransitionEnd} style={{width, height}} className='bf-modal-content'>\n          <div className='bf-modal-header'>\n            <h3 className='bf-modal-caption'>{title}</h3>\n            {showClose && <button type='button' onClick={this.close} className='bf-modal-close-button'><i className='bfi-close'></i></button>}\n          </div>\n          <div className='bf-modal-body'>{children || component}</div>\n          {showFooter ? (\n            <div className='bf-modal-footer'>\n              <div className='bf-modal-addon-text'>{bottomText}</div>\n              <div className='bf-modal-buttons'>\n                {showCancel && <button type='button' onClick={this.handleCancel} className='bf-modal-cancel'>{cancelText || language.base.cancel}</button>}\n                {showConfirm && <button type='button' onClick={this.handleConfirm} className={'bf-modal-confirm ' + (!confirmable ? 'disabled' : '')}>{confirmText || language.base.confirm}</button>}\n              </div>\n            </div>\n          ) : null}\n        </div>\n      </div>\n    )\n\n    this.rootElement = document.querySelector('#' + this.componentId)\n\n    if (!this.rootElement) {\n      this.rootElement = document.createElement('div')\n      this.rootElement.id = this.componentId\n      this.rootElement.className = 'bf-modal-root'\n      document.body.appendChild(this.rootElement)\n    }\n\n    ReactDOM.render(childComponent, this.rootElement)\n\n    this.activeId = window.setImmediate(() => {\n      this.rootElement.classList.add('active')\n    })\n\n  }\n\n  handleCancel = () => {\n    this.props.closeOnCancel && this.close()\n    this.props.onCancel && this.props.onCancel()\n  }\n\n  handleConfirm = () => {\n    this.props.closeOnConfirm && this.close()\n    this.props.onConfirm && this.props.onConfirm()\n  }\n\n  close = () => {\n    this.unrenderComponent()\n    this.props.onClose && this.props.onClose()\n  }\n\n}\n\nexport const showModal = (props) => {\n\n  const hostNode = document.createElement('div')\n  hostNode.style.display = 'none'\n  document.body.appendChild(hostNode)\n\n  const close = () => {\n    ReactDOM.unmountComponentAtNode(hostNode) && hostNode.parentNode.removeChild(hostNode)\n  }\n\n  const onConfirm = () => {\n    close()\n    props.onConfirm && props.onConfirm()\n  }\n\n  const onCancel = () => {\n    close()\n    props.onCancel && props.onCancel()\n  }\n\n  const onClose = () => {\n    close()\n    props.onClose && props.onClose()\n  }\n\n  const extProps = {\n    onConfirm, onCancel, onClose,\n    visible: true,\n    closeOnConfirm: true,\n    closeOnCancel: true\n  }\n\n  const modalInstance = ReactDOM.render(<Modal { ...props } { ...extProps }/>, hostNode)\n  modalInstance.destroy = close\n  modalInstance.update = modalInstance.renderComponent\n\n  return modalInstance\n\n}","import './style.scss'\nimport React from 'react'\nimport getEditorControls from 'configs/controls'\nimport LinkEditor from 'components/business/LinkEditor'\nimport HeadingPicker from 'components/business/Headings'\nimport TextColorPicker from 'components/business/TextColor'\nimport FontSizePicker from 'components/business/FontSize'\nimport LineHeightPicker from 'components/business/LineHeight'\nimport FontFamilyPicker from 'components/business/FontFamily'\nimport TextAlign from 'components/business/TextAlign'\nimport EmojiPicker from 'components/business/EmojiPicker'\nimport LetterSpacingPicker from 'components/business/LetterSpacing'\nimport TextIndent from 'components/business/TextIndent'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\nimport { showModal } from 'components/common/Modal'\nimport { extensionControls } from 'helpers/extension'\n\nconst commandHookMap = {\n  'inline-style': 'toggle-inline-style',\n  'block-type': 'change-block-type',\n  'editor-method': 'exec-editor-command'\n}\n\nexport default class ControlBar extends React.Component {\n\n  mediaLibiraryModal = null\n  extendedModals = {}\n\n  componentDidUpdate () {\n\n    const { controls, language } = this.props\n\n    controls.forEach(item => {\n      if (item.type === 'modal') {\n        if (item.modal && item.modal.id && this.extendedModals[item.modal.id]) {\n          this.extendedModals[item.modal.id].update({ ...item.modal, language })\n        }\n      }\n    })\n\n  }\n\n  getControlItemClassName (data) {\n\n    let className = 'control-item button'\n    let { type, command } = data\n\n    if (type === 'inline-style' && ContentUtils.selectionHasInlineStyle(this.props.editorState, command)) {\n      className += ' active'\n    } else if (type === 'block-type' && ContentUtils.getSelectionBlockType(this.props.editorState) === command) {\n      className += ' active'\n    }\n\n    return className\n\n  }\n\n  applyControl (command, type) {\n\n    const hookReturns = this.props.hooks(commandHookMap[type] || type, command)(command)\n\n    if (hookReturns === false) {\n      return false\n    }\n\n    if (typeof hookReturns === 'string') {\n      command = hookReturns\n    }\n\n    if (type === 'inline-style') {\n      this.props.editor.setValue(ContentUtils.toggleSelectionInlineStyle(this.props.editorState, command))\n    } else if (type === 'block-type') {\n      this.props.editor.setValue(ContentUtils.toggleSelectionBlockType(this.props.editorState, command))\n    } else if (type === 'editor-method') {\n      this.props.editor[command] && this.props.editor[command]()\n    }\n\n  }\n\n  openBraftFinder = () => {\n\n    if (!this.props.braftFinder || !this.props.braftFinder.ReactComponent) {\n      return false\n    }\n\n    if (this.props.hooks('open-braft-finder')() === false) {\n      return false\n    }\n\n    const mediaProps = this.props.media\n    const MediaLibrary = this.props.braftFinder.ReactComponent\n\n    this.mediaLibiraryModal = showModal({\n      title: this.props.language.controls.mediaLibirary,\n      language: this.props.language,\n      width: 640,\n      showFooter: false,\n      component: (\n        <MediaLibrary\n          accepts={mediaProps.accepts}\n          onCancel={this.closeBraftFinder}\n          onInsert={this.insertMedias}\n          onChange={mediaProps.onChange}\n          externals={mediaProps.externals}\n          onBeforeSelect={this.bindBraftFinderHook('select-medias')}\n          onBeforeDeselect={this.bindBraftFinderHook('deselect-medias')}\n          onBeforeRemove={this.bindBraftFinderHook('remove-medias')}\n          onBeforeInsert={this.bindBraftFinderHook('insert-medias')}\n          onFileSelect={this.bindBraftFinderHook('select-files')}\n        />\n      )\n    })\n\n  }\n\n  bindBraftFinderHook = (hookName) => (...params) => {\n    return this.props.hooks(hookName, params[0])(...params)\n  }\n\n  insertMedias = (medias) => {\n\n    this.props.editor.setValue(ContentUtils.insertMedias(this.props.editorState, medias))\n    this.props.editor.requestFocus()\n    this.props.media.onInsert && this.props.media.onInsert(medias)\n    this.closeBraftFinder()\n\n  }\n\n  closeBraftFinder = () => {\n\n    this.props.media.onCancel && this.props.media.onCancel()\n    this.mediaLibiraryModal && this.mediaLibiraryModal.close()\n\n  }\n\n  render() {\n\n    const { editor, editorState, controls, media, extendControls, language, hooks, colors, fontSizes, fontFamilies, emojis, containerNode, lineHeights, letterSpacings, textAligns, textBackgroundColor } = this.props\n    const currentBlockType = ContentUtils.getSelectionBlockType(editorState)\n    const editorControls = getEditorControls(language)\n    const commonProps = { editor, editorState, language, containerNode, hooks }\n    const renderedControls = []\n\n    return (\n      <div className='bf-controlbar' onMouseDown={this.preventDefault}>\n        {\n          [\n            ...controls,\n            ...extensionControls,\n            ...extendControls\n          ].map((item, index) => {\n            let itemKey = typeof item === 'string' ? item : item.key\n            if (typeof itemKey !== 'string') {\n              return null\n            }\n            if (renderedControls.indexOf(itemKey) > -1) {\n              return null\n            }\n            if (itemKey.toLowerCase() === 'separator') {\n              return <span key={index} className='separator-line'></span>\n            }\n            let controlItem = editorControls.find((subItem) => {\n              return subItem.key.toLowerCase() === itemKey.toLowerCase()\n            })\n            if (typeof item !== 'string') {\n              controlItem = { ...controlItem, ...item }\n            }\n            if (!controlItem) {\n              return null\n            }\n            renderedControls.push(itemKey)\n            if (controlItem.type === 'headings') {\n              return <HeadingPicker\n                key={index}\n                current={currentBlockType}\n                onChange={(command) => this.applyControl(command, 'block-type')}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'text-color') {\n              return <TextColorPicker\n                key={index}\n                colors={colors}\n                enableBackgroundColor={textBackgroundColor}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'font-size') {\n              return <FontSizePicker\n                key={index}\n                fontSizes={fontSizes}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'line-height') {\n              return <LineHeightPicker\n                key={index}\n                lineHeights={lineHeights}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'letter-spacing') {\n              return <LetterSpacingPicker\n                key={index}\n                letterSpacings={letterSpacings}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'text-indent') {\n              return <TextIndent\n                key={index}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'font-family') {\n              return <FontFamilyPicker\n                key={index}\n                fontFamilies={fontFamilies}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'emoji') {\n              return <EmojiPicker\n                key={index}\n                emojis={emojis}\n                defaultCaption={controlItem.text}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'link') {\n              return <LinkEditor\n                key={index}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'text-align') {\n              return (\n                <TextAlign\n                  key={index}\n                  textAligns={textAligns}\n                  {...commonProps}\n                />\n              )\n            } else if (controlItem.type === 'media') {\n              if (!media.image && !media.video && !media.audio) {\n                return null\n              }\n              return (\n                <button\n                  type='button'\n                  key={index}\n                  data-title={controlItem.title}\n                  className='control-item media button'\n                  onClick={this.openBraftFinder}\n                >\n                  {controlItem.text}\n                </button>\n              )\n            } else if (controlItem.type === 'dropdown') {\n              return (\n                <DropDown\n                  key={index}\n                  className={'control-item extend-control-item dropdown ' + controlItem.className}\n                  caption={controlItem.text}\n                  htmlCaption={controlItem.html}\n                  showArrow={controlItem.showArrow}\n                  title={controlItem.title}\n                  arrowActive={controlItem.arrowActive}\n                  autoHide={controlItem.autoHide}\n                  disabled={controlItem.disabled}\n                  ref={controlItem.ref}\n                  {...commonProps}\n                >\n                  {controlItem.component}\n                </DropDown>\n              )\n            } else if (controlItem.type === 'modal') {\n              return (\n                <button\n                  type='button'\n                  key={index}\n                  data-title={controlItem.title}\n                  className={'control-item extend-control-item button ' + controlItem.className}\n                  dangerouslySetInnerHTML={controlItem.html ? { __html: controlItem.html } : null}\n                  onClick={(event) => {\n                    if (controlItem.modal && controlItem.modal.id) {\n                      if (this.extendedModals[controlItem.modal.id]) {\n                        this.extendedModals[controlItem.modal.id].active = true\n                        this.extendedModals[controlItem.modal.id].update({ ...controlItem.modal, language })\n                      } else {\n                        this.extendedModals[controlItem.modal.id] = showModal({ ...controlItem.modal, language })\n                        controlItem.modal.onCreate && controlItem.modal.onCreate(this.extendedModals[controlItem.modal.id])\n                      }\n                    }\n                    controlItem.onClick && controlItem.onClick(event)\n                  }}\n                >\n                  {!controlItem.html ? controlItem.text : null}\n                </button>\n              )\n            } else if (controlItem.type === 'component') {\n              return (\n                <div\n                  key={index}\n                  className={'control-item component-wrapper ' + controlItem.className}\n                >{controlItem.component}</div>\n              )\n            } else if (controlItem.type === 'button') {\n              return (\n                <button\n                  type='button'\n                  key={index}\n                  data-title={controlItem.title}\n                  className={'control-item button ' + controlItem.className}\n                  dangerouslySetInnerHTML={controlItem.html ? { __html: controlItem.html } : null}\n                  onClick={(event) => controlItem.onClick && controlItem.onClick(event)}\n                >\n                  {!controlItem.html ? controlItem.text : null}\n                </button>\n              )\n            } else {\n\n              let disabled = false\n\n              if (controlItem.command === 'undo') {\n                disabled = editorState.getUndoStack().size === 0\n              } else if (controlItem.command === 'redo') {\n                disabled = editorState.getRedoStack().size === 0\n              }\n\n              return (\n                <button\n                  type='button'\n                  key={index}\n                  disabled={disabled}\n                  data-title={controlItem.title}\n                  className={this.getControlItemClassName({\n                    type: controlItem.type,\n                    command: controlItem.command\n                  })}\n                  onClick={() => this.applyControl(controlItem.command, controlItem.type)}\n                >\n                  {controlItem.text}\n                </button>\n              )\n            }\n          })\n        }\n      </div>\n    )\n\n  }\n\n  preventDefault (event) {\n\n    const tagName = event.target.tagName.toLowerCase()\n\n    if (tagName === 'input' || tagName === 'label') {\n      // ...\n    } else {\n      event.preventDefault()\n    }\n\n  }\n\n}","import 'draft-js/dist/Draft.css'\nimport 'assets/scss/_base.scss'\nimport React from 'react'\nimport languages from 'languages'\nimport BraftFinder from 'braft-finder'\nimport { ColorUtils, ContentUtils } from 'braft-utils'\nimport { DefaultDraftBlockRenderMap, Editor } from 'draft-js'\nimport getKeyBindingFn from 'configs/keybindings'\nimport { keyCommandHandlers, returnHandlers, beforeInputHandlers, dropHandlers, droppedFilesHandlers, pastedFilesHandlers, pastedTextHandlers } from 'configs/handlers'\nimport defaultProps from 'configs/props'\nimport { getBlockRendererFn, customBlockRenderMap, getBlockStyleFn, getCustomStyleMap, getCustomStyleFn, getDecorators } from 'renderers'\nimport ControlBar from 'components/business/ControlBar'\nimport { extendStyleImportFn, extendStyleExportFn, extendEntityImportFn, extendEntityExportFn } from 'helpers/extension'\n\nconst buildHooks= (hooks) => (hookName, defaultReturns = {}) => {\n  return hooks[hookName] || (() => defaultReturns)\n}\n\nconst filterColors = (colors, colors2) => {\n  return colors.filter(item => colors2.indexOf(item) === -1).filter((item, index, array) => array.indexOf(item) === index)\n}\n\nconst getConvertOptions = (props) => {\n\n  const convertOptions = { ...defaultProps.converts, ...props.converts, fontFamilies: props.fontFamilies }\n\n  convertOptions.styleImportFn = extendStyleImportFn(convertOptions.styleImportFn)\n  convertOptions.styleExportFn = extendStyleExportFn(convertOptions.styleExportFn)\n  convertOptions.entityImportFn = extendEntityImportFn(convertOptions.entityImportFn)\n  convertOptions.entityExportFn = extendEntityExportFn(convertOptions.entityExportFn)\n\n  return convertOptions\n\n}\n\nexport default class BraftEditor extends React.Component {\n\n  static defaultProps = defaultProps\n\n  constructor (props) {\n\n    super(props)\n\n    this.blockRenderMap = DefaultDraftBlockRenderMap.merge(customBlockRenderMap)\n    this.editorDecorators = getDecorators()\n\n    this.isFocused = false\n    this.isLiving = false\n    this.braftFinder = null\n\n    const defaultEditorState = ContentUtils.isEditorState(props.defaultValue || props.value) ? (props.defaultValue || props.value) : ContentUtils.createEmptyEditorState(this.editorDecorators)\n    defaultEditorState.setConvertOptions(getConvertOptions(props))\n\n    this.state = {\n      containerNode: null,\n      tempColors: [],\n      editorState: defaultEditorState,\n      draftProps: {}\n    }\n\n  }\n\n  componentWillMount () {\n\n    const { language, media, controls, extendControls } = this.props\n    const { uploadFn, validateFn, items } = { ...defaultProps.media, ...media }\n\n    if ([...controls, ...extendControls].find(item => item === 'media' || item.key === 'media')) {\n      this.braftFinder = new BraftFinder({\n        items: items,\n        language: language,\n        uploader: uploadFn,\n        validator: validateFn\n      })\n      this.forceUpdate()\n    }\n\n  }\n\n  componentDidMount () {\n\n    const { value: editorState } = this.props\n\n    if (ContentUtils.isEditorState(editorState)) {\n\n      const tempColors = ColorUtils.detectColorsFromDraftState(editorState.toRAW(true))\n      editorState.setConvertOptions(getConvertOptions(this.props))\n\n      this.setState({\n        tempColors: filterColors([...this.state.tempColors, ...tempColors], this.props.colors),\n        editorState: editorState\n      })\n\n    }\n\n    this.isLiving = true\n\n  }\n\n  componentDidUpdate (_, prevState) {\n\n    if (prevState.editorState !== this.state.editorState) {\n      this.state.editorState.setConvertOptions(getConvertOptions(this.props))\n    }\n\n  }\n\n  componentWillReceiveProps (nextProps) {\n\n    const { value: editorState, media } = nextProps\n\n    if (media && media.items && this.braftFinder) {\n      this.braftFinder.setItems(media.items)\n    }\n\n    if (ContentUtils.isEditorState(editorState)) {\n\n      if (editorState !== this.state.editorState) {\n\n        const tempColors = ColorUtils.detectColorsFromDraftState(editorState.toRAW(true))\n        editorState.setConvertOptions(getConvertOptions(nextProps))\n\n        this.setState({\n          tempColors: filterColors([...this.state.tempColors, ...tempColors], this.props.colors),\n          editorState: editorState\n        })\n\n      } else {\n        this.setState({ editorState })\n      }\n\n    }\n\n  }\n\n  componentWillUnmount () {\n    this.isLiving = false\n  }\n\n  onChange = (editorState, callback) => {\n\n    if (!editorState.convertOptions) {\n      editorState.setConvertOptions(getConvertOptions(this.props))\n    }\n\n    this.setState({ editorState }, () => {\n      this.props.onChange && this.props.onChange(editorState)\n      callback && callback(editorState)\n    })\n\n  }\n\n  getDraftInstance = () => {\n    return this.draftInstance\n  }\n\n  getFinderInstance = () => {\n    return this.braftFinder\n  }\n\n  getValue = () => {\n    return this.state.editorState\n  }\n\n  setValue = (editorState, callback) => {\n    return this.onChange(editorState, callback)\n  }\n\n  forceRender = () => {\n    return this.setValue(ContentUtils.createEditorState(this.state.editorState.getCurrentContent(), this.editorDecorators))\n  }\n\n  onTab = (event) => {\n\n    if (keyCommandHandlers('tab', this.state.editorState, this) === 'handled') {\n      event.preventDefault()\n    }\n\n    this.props.onTab && this.props.onTab(event)\n\n  }\n\n  onFocus = () => {\n    this.isFocused = true\n    this.props.onFocus && this.props.onFocus(this.state.editorState)\n  }\n\n  onBlur = () => {\n    this.isFocused = false\n    this.props.onBlur && this.props.onBlur(this.state.editorState)\n  }\n\n  requestFocus = () => {\n    setTimeout(() => this.draftInstance.focus(), 0)\n  }\n\n  handleKeyCommand = (command, editorState) => keyCommandHandlers(command, editorState, this)\n\n  handleReturn = (event, editorState) => returnHandlers(event, editorState, this)\n\n  handleBeforeInput = (chars, editorState) => beforeInputHandlers(chars, editorState, this)\n\n  handleDrop = (selectionState, dataTransfer) => dropHandlers(selectionState, dataTransfer, this)\n\n  handleDroppedFiles = (selectionState, files) => droppedFilesHandlers(selectionState, files, this)\n\n  handlePastedFiles = (files) => pastedFilesHandlers(files, this)\n\n  handlePastedText = (text, html, editorState) => pastedTextHandlers(text, html, editorState, this)\n\n  undo = () => {\n    this.setValue(ContentUtils.undo(this.state.editorState))\n  }\n\n  redo = () => {\n    this.setValue(ContentUtils.redo(this.state.editorState))\n  }\n\n  removeSelectionInlineStyles = () => {\n    this.setValue(ContentUtils.removeSelectionInlineStyles(this.state.editorState))\n  }\n\n  insertHorizontalLine = () => {\n    this.setValue(ContentUtils.insertHorizontalLine(this.state.editorState))\n  }\n\n  clearEditorContent = () => {\n    this.setValue(ContentUtils.clear(this.state.editorState), (editorState) => {\n      this.setValue(ContentUtils.toggleSelectionIndent(editorState, 0))\n    })\n  }\n\n  render () {\n\n    let {\n      controls, excludeControls, extendControls, disabled, media, language, colors, hooks,\n      fontSizes, fontFamilies, emojis, placeholder, imageControls, lineHeights, letterSpacings, textAligns, textBackgroundColor,\n      extendAtomics, className, style, controlBarClassName, controlBarStyle, contentClassName, contentStyle, stripPastedStyles, componentBelowControlBar\n    } = this.props\n\n    hooks = buildHooks(hooks)\n    controls = controls.filter(item => excludeControls.indexOf(item) === -1)\n    language = (typeof language === 'function' ? language(languages) : languages[language]) || languages[defaultProps.language]\n\n    const externalMedias = media && media.externals ? {\n      ...defaultProps.media.externals,\n      ...media.externals\n    } : defaultProps.media.externals\n\n    const accepts = media && media.accepts ? {\n      ...defaultProps.media.accepts,\n      ...media.accepts\n    } : defaultProps.media.accepts\n\n    media = { ...defaultProps.media, ...media, externalMedias, accepts }\n\n    if (!media.uploadFn) {\n      media.video = false\n      media.audio = false\n    }\n\n    const controlBarProps = {\n      editor: this,\n      editorState: this.state.editorState,\n      braftFinder: this.braftFinder,\n      ref: instance => this.controlBarInstance = instance,\n      containerNode: this.state.containerNode,\n      className: controlBarClassName,\n      style: controlBarStyle, hooks,\n      colors: [...colors, ...this.state.tempColors],\n      media, controls, language, extendControls, fontSizes, fontFamilies,\n      emojis, lineHeights, letterSpacings, textAligns, textBackgroundColor\n    }\n\n    const { unitExportFn } = this.state.editorState.convertOptions\n\n    const blockRendererFn = getBlockRendererFn({\n      editor: this, hooks,\n      editorState: this.state.editorState,\n      containerNode: this.state.containerNode,\n      imageControls, language, extendAtomics\n    }, this.props.blockRendererFn)\n    const blockRenderMap = this.props.blockRenderMap ? this.blockRenderMap.merge(this.props.blockRenderMap) : this.blockRenderMap\n    const blockStyleFn = getBlockStyleFn(this.props.blockStyleFn)\n    const customStyleMap = getCustomStyleMap(this.props.customStyleMap)\n    const customStyleFn = getCustomStyleFn({ fontFamilies, unitExportFn, customStyleFn: this.props.customStyleFn })\n\n    const keyBindingFn = getKeyBindingFn(this.props.keyBindingFn)\n\n    const draftProps = {\n      ref: instance => { this.draftInstance = instance },\n      editorState: this.state.editorState,\n      handleKeyCommand: this.handleKeyCommand,\n      handleReturn: this.handleReturn,\n      handleBeforeInput: this.handleBeforeInput,\n      handleDrop: this.handleDrop,\n      handleDroppedFiles: this.handleDroppedFiles,\n      handlePastedText: this.handlePastedText,\n      handlePastedFiles: this.handlePastedFiles,\n      onChange: this.onChange,\n      onTab: this.onTab,\n      onFocus: this.onFocus,\n      onBlur: this.onBlur,\n      readOnly: disabled,\n      blockRenderMap, blockRendererFn, blockStyleFn,\n      customStyleMap, customStyleFn,\n      keyBindingFn, placeholder, stripPastedStyles,\n      ...this.props.draftProps,\n      ...this.state.draftProps\n    }\n\n    return (\n      <div ref={this.setEditorContainerNode} className={`bf-container ${className} ${(disabled ? 'disabled' : '')}`} style={style}>\n        <ControlBar {...controlBarProps} />\n        {componentBelowControlBar}\n        <div className={`bf-content ${contentClassName}`} style={contentStyle}>\n          <Editor {...draftProps} />\n        </div>\n      </div>\n    )\n\n  }\n\n  setDraftProps (draftProps) {\n    this.setState({\n      draftProps: {\n        ...this.state.draftProps,\n        ...draftProps\n      }\n    })\n  }\n\n  setEditorContainerNode = (containerNode) => {\n    this.setState({ containerNode }, this.forceRender)\n  }\n\n}","import BraftEditor from './editor'\nimport { EditorState } from 'draft-js'\nimport { convertRawToEditorState, convertHTMLToEditorState, convertEditorStateToRaw, convertEditorStateToHTML } from 'braft-convert'\nimport { createExtensibleEditor, extendStyleImportFn, extendEntityImportFn } from 'helpers/extension'\nimport { getDecorators } from 'renderers'\n\nEditorState.prototype.setConvertOptions = function (options = {}) {\n  this.convertOptions = options\n}\n\n// 为EditorState对象增加toHTML原型方法，用于将editorState转换成HTML字符串\nEditorState.prototype.toHTML = function (options = {}) {\n  const convertOptions = this.convertOptions || {}\n  return convertEditorStateToHTML(this, {...convertOptions, ...options})\n}\n\n// 为EditorState对象增加toRAW原型方法，用于将editorState转换成RAW JSON对象或RAW JSON字符串\nEditorState.prototype.toRAW = function (noStringify) {\n  return noStringify ? convertEditorStateToRaw(this) : JSON.stringify(convertEditorStateToRaw(this))\n}\n\n// 为EditorState对象增加新的静态方法，用于从raw或者html内容创建ediorState\nBraftEditor.createEditorState = EditorState.createFrom = (content, options = {}) => {\n\n  options.styleImportFn = extendStyleImportFn(options.styleImportFn)\n  options.entityImportFn = extendEntityImportFn(options.entityImportFn)\n\n  console.log(getDecorators())\n\n  if (typeof content === 'object' && content && content.blocks && content.entityMap) {\n    return convertRawToEditorState(content, getDecorators())\n  } else if (typeof content === 'string') {\n    try {\n      return EditorState.createFrom(JSON.parse(content), options)\n    } catch (error) {\n      return convertHTMLToEditorState(content, getDecorators(), options, 'create')\n    }\n  } else {\n    return EditorState.createEmpty(getDecorators())\n  }\n\n}\n\nexport default createExtensibleEditor(BraftEditor)\nexport { EditorState, getDecorators }\n\n// 近期开发计划\n// 优化全选会选择上传中的项目的问题\n// 支持param.success时设置媒体文件的更多属性（尺寸等）\n\n// 2.1版本开发计划\n// [ ]增强扩展性\n// [ ]完成font-size等样式的全量支持\n// [ ]支持无限制取色器\n\n// 2.3版本开发计划\n// [ ]增加代码块高亮支持\n\n// 2.4版本开发计划\n// [ ]允许自定义快捷键\n// [ ]优化图片param.success，支持传入link等\n// [ ]简化上传配置流程\n// [ ]支持draftjs插件机制\n// [ ]支持媒体库组件的更多个性化配置（placeholder等）\n// [ ]支持非媒体类附件\n// [ ]优化HTML格式无法存储媒体名称的问题 \n\n// 2.5版本开发计划\n// [ ]优化换行与空格\n// [ ]支持自定义Atomic组件\n// [ ]图片裁切等简单的编辑功能\n// [ ]代码块交互强化\n// [ ]初级表格功能\n\n// 2.6版本开发计划\n// [ ]美化UI，包括图标和界面风格","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin"],"sourceRoot":""}